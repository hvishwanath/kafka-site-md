<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Authorization and ACLs | </title><meta name=description content="Authorization and ACLs"><meta property="og:title" content="Authorization and ACLs"><meta property="og:description" content="Authorization and ACLs"><meta property="og:type" content="article"><meta property="og:url" content="https://example.kafka-site-md.dev/40/security/authorization-and-acls/"><meta property="article:section" content="40"><meta property="article:modified_time" content="2025-03-28T16:24:11-07:00"><meta itemprop=name content="Authorization and ACLs"><meta itemprop=description content="Authorization and ACLs"><meta itemprop=dateModified content="2025-03-28T16:24:11-07:00"><meta itemprop=wordCount content="3616"><meta itemprop=keywords content="kafka,docs,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Authorization and ACLs"><meta name=twitter:description content="Authorization and ACLs"><link rel=preload href=/scss/main.min.7ed0eb3fc68a0678ca492e0db9c00f8e8d5b776bbb2fb833732191f6bbf02877.css as=style integrity="sha256-ftDrP8aKBnjKSS4NucAPjo1bd2u7L7gzcyGR9rvwKHc=" crossorigin=anonymous><link href=/scss/main.min.7ed0eb3fc68a0678ca492e0db9c00f8e8d5b776bbb2fb833732191f6bbf02877.css rel=stylesheet integrity="sha256-ftDrP8aKBnjKSS4NucAPjo1bd2u7L7gzcyGR9rvwKHc=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg width="154" height="250" viewBox="0 0 256 416" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><path d="M201.816 230.216c-16.186.0-30.697 7.171-40.634 18.461l-25.463-18.026c2.703-7.442 4.255-15.433 4.255-23.797.0-8.219-1.498-16.076-4.112-23.408l25.406-17.835c9.936 11.233 24.409 18.365 40.548 18.365 29.875.0 54.184-24.305 54.184-54.184.0-29.879-24.309-54.184-54.184-54.184s-54.184 24.305-54.184 54.184c0 5.348.808 10.505 2.258 15.389l-25.423 17.844c-10.62-13.175-25.911-22.374-43.333-25.182v-30.64c24.544-5.155 43.037-26.962 43.037-53.019C124.171 24.305 99.862.0 69.987.0 40.112.0 15.803 24.305 15.803 54.184c0 25.708 18.014 47.246 42.067 52.769v31.038C25.044 143.753.0 172.401.0 206.854c0 34.621 25.292 63.374 58.355 68.94v32.774c-24.299 5.341-42.552 27.011-42.552 52.894.0 29.879 24.309 54.184 54.184 54.184s54.184-24.305 54.184-54.184c0-25.883-18.253-47.553-42.552-52.894v-32.775a69.965 69.965.0 0042.6-24.776l25.633 18.143c-1.423 4.84-2.22 9.946-2.22 15.24.0 29.879 24.309 54.184 54.184 54.184S256 314.279 256 284.4c0-29.879-24.309-54.184-54.184-54.184zm0-126.695c14.487.0 26.27 11.788 26.27 26.271s-11.783 26.27-26.27 26.27-26.27-11.787-26.27-26.27 11.783-26.271 26.27-26.271zm-158.1-49.337c0-14.483 11.784-26.27 26.271-26.27s26.27 11.787 26.27 26.27c0 14.483-11.783 26.27-26.27 26.27s-26.271-11.787-26.271-26.27zm52.541 307.278c0 14.483-11.783 26.27-26.27 26.27s-26.271-11.787-26.271-26.27 11.784-26.27 26.271-26.27 26.27 11.787 26.27 26.27zm-26.272-117.97c-20.205.0-36.642-16.434-36.642-36.638.0-20.205 16.437-36.642 36.642-36.642 20.204.0 36.641 16.437 36.641 36.642.0 20.204-16.437 36.638-36.641 36.638zm131.831 67.179c-14.487.0-26.27-11.788-26.27-26.271s11.783-26.27 26.27-26.27 26.27 11.787 26.27 26.27-11.783 26.271-26.27 26.271z" style="fill:#231f20"/></svg></span><span class=navbar-brand__name></span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/41/><span>Documentation</span></a></li><li class=nav-item><a class=nav-link href=/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/community/><span>Community</span></a></li><li class=nav-item><a class=nav-link href=/testimonials/><span>Testimonials</span></a></li><li class=nav-item><a class=nav-link href=/community/downloads/><span>Download Kafka</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Releases</a><ul class=dropdown-menu><li><a class=dropdown-item href=/41/>4.1</a></li><li><a class=dropdown-item href=/40/>4.0</a></li><li><a class=dropdown-item href=/39/>3.9</a></li><li><a class=dropdown-item href=/38/>3.8</a></li><li><a class=dropdown-item href=/37/>3.7</a></li><li><a class=dropdown-item href=/36/>3.6</a></li><li><a class=dropdown-item href=/35/>3.5</a></li><li><a class=dropdown-item href=/34/>3.4</a></li><li><a class=dropdown-item href=/33/>3.3</a></li><li><a class=dropdown-item href=/32/>3.2</a></li><li><a class=dropdown-item href=/31/>3.1</a></li><li><a class=dropdown-item href=/30/>3.0</a></li><li><a class=dropdown-item href=/28/>2.8</a></li><li><a class=dropdown-item href=/27/>2.7</a></li><li><a class=dropdown-item href=/26/>2.6</a></li><li><a class=dropdown-item href=/25/>2.5</a></li><li><a class=dropdown-item href=/24/>2.4</a></li><li><a class=dropdown-item href=/23/>2.3</a></li><li><a class=dropdown-item href=/22/>2.2</a></li><li><a class=dropdown-item href=/21/>2.1</a></li><li><a class=dropdown-item href=/20/>2.0</a></li><li><a class=dropdown-item href=/11/>1.1</a></li><li><a class=dropdown-item href=/10/>1.0</a></li><li><a class=dropdown-item href=/0110/>0.11.0</a></li><li><a class=dropdown-item href=/0102/>0.10.2</a></li><li><a class=dropdown-item href=/0101/>0.10.1</a></li><li><a class=dropdown-item href=/0100/>0.10.0</a></li><li><a class=dropdown-item href=/090/>0.9.0</a></li><li><a class=dropdown-item href=/082/>0.8.2</a></li><li><a class=dropdown-item href=/081/>0.8.1</a></li><li><a class=dropdown-item href=/080/>0.8.0</a></li><li><a class=dropdown-item href=/07/>0.7</a></li></ul></div></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.a770465805a0cb46ff1e57a8f55b44bc.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.a770465805a0cb46ff1e57a8f55b44bc.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-40-li><a href=/40/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-40><span>AK 4.0.X</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40getting-started-li><input type=checkbox id=m-40getting-started-check>
<label for=m-40getting-started-check><a href=/40/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40getting-started><span>Getting Started</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-startedintroduction-li><input type=checkbox id=m-40getting-startedintroduction-check>
<label for=m-40getting-startedintroduction-check><a href=/40/getting-started/introduction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-startedintroduction><span>Introduction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-starteduses-li><input type=checkbox id=m-40getting-starteduses-check>
<label for=m-40getting-starteduses-check><a href=/40/getting-started/uses/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-starteduses><span>Use Cases</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-startedquickstart-li><input type=checkbox id=m-40getting-startedquickstart-check>
<label for=m-40getting-startedquickstart-check><a href=/40/getting-started/quickstart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-startedquickstart><span>Quick Start</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-startedecosystem-li><input type=checkbox id=m-40getting-startedecosystem-check>
<label for=m-40getting-startedecosystem-check><a href=/40/getting-started/ecosystem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-startedecosystem><span>Ecosystem</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-startedupgrade-li><input type=checkbox id=m-40getting-startedupgrade-check>
<label for=m-40getting-startedupgrade-check><a href=/40/getting-started/upgrade/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-startedupgrade><span>Upgrading</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-startedzk2kraft-li><input type=checkbox id=m-40getting-startedzk2kraft-check>
<label for=m-40getting-startedzk2kraft-check><a href=/40/getting-started/zk2kraft/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-startedzk2kraft><span>KRaft vs ZooKeeper</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-startedcompatibility-li><input type=checkbox id=m-40getting-startedcompatibility-check>
<label for=m-40getting-startedcompatibility-check><a href=/40/getting-started/compatibility/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-startedcompatibility><span>Compatibility</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40getting-starteddocker-li><input type=checkbox id=m-40getting-starteddocker-check>
<label for=m-40getting-starteddocker-check><a href=/40/getting-started/docker/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40getting-starteddocker><span>Docker</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40apis-li><input type=checkbox id=m-40apis-check>
<label for=m-40apis-check><a href=/40/apis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40apis><span>APIs</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40apisapi-li><input type=checkbox id=m-40apisapi-check>
<label for=m-40apisapi-check><a href=/40/apis/api/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40apisapi><span>API</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40configuration-li><input type=checkbox id=m-40configuration-check>
<label for=m-40configuration-check><a href=/40/configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40configuration><span>Configuration</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40configurationconfiguration-li><input type=checkbox id=m-40configurationconfiguration-check>
<label for=m-40configurationconfiguration-check><a href=/40/configuration/configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40configurationconfiguration><span>Configuration</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40design-li><input type=checkbox id=m-40design-check>
<label for=m-40design-check><a href=/40/design/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40design><span>Design</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40designdesign-li><input type=checkbox id=m-40designdesign-check>
<label for=m-40designdesign-check><a href=/40/design/design/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40designdesign><span>Design</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40designprotocol-li><input type=checkbox id=m-40designprotocol-check>
<label for=m-40designprotocol-check><a href=/40/design/protocol/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40designprotocol><span>Protocol</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40implementation-li><input type=checkbox id=m-40implementation-check>
<label for=m-40implementation-check><a href=/40/implementation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40implementation><span>Implementation</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40implementationnetwork-layer-li><input type=checkbox id=m-40implementationnetwork-layer-check>
<label for=m-40implementationnetwork-layer-check><a href=/40/implementation/network-layer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40implementationnetwork-layer><span>Network Layer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40implementationmessages-li><input type=checkbox id=m-40implementationmessages-check>
<label for=m-40implementationmessages-check><a href=/40/implementation/messages/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40implementationmessages><span>Messages</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40implementationmessage-format-li><input type=checkbox id=m-40implementationmessage-format-check>
<label for=m-40implementationmessage-format-check><a href=/40/implementation/message-format/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40implementationmessage-format><span>Message Format</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40implementationlog-li><input type=checkbox id=m-40implementationlog-check>
<label for=m-40implementationlog-check><a href=/40/implementation/log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40implementationlog><span>Log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40implementationdistribution-li><input type=checkbox id=m-40implementationdistribution-check>
<label for=m-40implementationdistribution-check><a href=/40/implementation/distribution/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40implementationdistribution><span>Distribution</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40operations-li><input type=checkbox id=m-40operations-check>
<label for=m-40operations-check><a href=/40/operations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40operations><span>Operations</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationsbasic-kafka-operations-li><input type=checkbox id=m-40operationsbasic-kafka-operations-check>
<label for=m-40operationsbasic-kafka-operations-check><a href=/40/operations/basic-kafka-operations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationsbasic-kafka-operations><span>Basic Kafka Operations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationsdatacenters-li><input type=checkbox id=m-40operationsdatacenters-check>
<label for=m-40operationsdatacenters-check><a href=/40/operations/datacenters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationsdatacenters><span>Datacenters</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationsgeo-replication-cross-cluster-data-mirroring-li><input type=checkbox id=m-40operationsgeo-replication-cross-cluster-data-mirroring-check>
<label for=m-40operationsgeo-replication-cross-cluster-data-mirroring-check><a href=/40/operations/geo-replication-cross-cluster-data-mirroring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationsgeo-replication-cross-cluster-data-mirroring><span>Geo-Replication (Cross-Cluster Data Mirroring)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationsmulti-tenancy-li><input type=checkbox id=m-40operationsmulti-tenancy-check>
<label for=m-40operationsmulti-tenancy-check><a href=/40/operations/multi-tenancy/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationsmulti-tenancy><span>Multi-Tenancy</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationsjava-version-li><input type=checkbox id=m-40operationsjava-version-check>
<label for=m-40operationsjava-version-check><a href=/40/operations/java-version/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationsjava-version><span>Java Version</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationshardware-and-os-li><input type=checkbox id=m-40operationshardware-and-os-check>
<label for=m-40operationshardware-and-os-check><a href=/40/operations/hardware-and-os/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationshardware-and-os><span>Hardware and OS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationsmonitoring-li><input type=checkbox id=m-40operationsmonitoring-check>
<label for=m-40operationsmonitoring-check><a href=/40/operations/monitoring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationsmonitoring><span>Monitoring</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationskraft-li><input type=checkbox id=m-40operationskraft-check>
<label for=m-40operationskraft-check><a href=/40/operations/kraft/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationskraft><span>KRaft</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationstiered-storage-li><input type=checkbox id=m-40operationstiered-storage-check>
<label for=m-40operationstiered-storage-check><a href=/40/operations/tiered-storage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationstiered-storage><span>Tiered Storage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationsconsumer-rebalance-protocol-li><input type=checkbox id=m-40operationsconsumer-rebalance-protocol-check>
<label for=m-40operationsconsumer-rebalance-protocol-check><a href=/40/operations/consumer-rebalance-protocol/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationsconsumer-rebalance-protocol><span>Consumer Rebalance Protocol</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationstransaction-protocol-li><input type=checkbox id=m-40operationstransaction-protocol-check>
<label for=m-40operationstransaction-protocol-check><a href=/40/operations/transaction-protocol/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationstransaction-protocol><span>Transaction Protocol</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40operationseligible-leader-replicas-li><input type=checkbox id=m-40operationseligible-leader-replicas-check>
<label for=m-40operationseligible-leader-replicas-check><a href=/40/operations/eligible-leader-replicas/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40operationseligible-leader-replicas><span>Eligible Leader Replicas</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-40security-li><input type=checkbox id=m-40security-check checked>
<label for=m-40security-check><a href=/40/security/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40security><span>Security</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40securitysecurity-overview-li><input type=checkbox id=m-40securitysecurity-overview-check>
<label for=m-40securitysecurity-overview-check><a href=/40/security/security-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40securitysecurity-overview><span>Security Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40securitylistener-configuration-li><input type=checkbox id=m-40securitylistener-configuration-check>
<label for=m-40securitylistener-configuration-check><a href=/40/security/listener-configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40securitylistener-configuration><span>Listener Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40securityencryption-and-authentication-using-ssl-li><input type=checkbox id=m-40securityencryption-and-authentication-using-ssl-check>
<label for=m-40securityencryption-and-authentication-using-ssl-check><a href=/40/security/encryption-and-authentication-using-ssl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40securityencryption-and-authentication-using-ssl><span>Encryption and Authentication using SSL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40securityauthentication-using-sasl-li><input type=checkbox id=m-40securityauthentication-using-sasl-check>
<label for=m-40securityauthentication-using-sasl-check><a href=/40/security/authentication-using-sasl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40securityauthentication-using-sasl><span>Authentication using SASL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-40securityauthorization-and-acls-li><input type=checkbox id=m-40securityauthorization-and-acls-check checked>
<label for=m-40securityauthorization-and-acls-check><a href=/40/security/authorization-and-acls/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-40securityauthorization-and-acls><span class=td-sidebar-nav-active-item>Authorization and ACLs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40securityincorporating-security-features-in-a-running-cluster-li><input type=checkbox id=m-40securityincorporating-security-features-in-a-running-cluster-check>
<label for=m-40securityincorporating-security-features-in-a-running-cluster-check><a href=/40/security/incorporating-security-features-in-a-running-cluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40securityincorporating-security-features-in-a-running-cluster><span>Incorporating Security Features in a Running Cluster</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40kafka-connect-li><input type=checkbox id=m-40kafka-connect-check>
<label for=m-40kafka-connect-check><a href=/40/kafka-connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40kafka-connect><span>Kafka Connect</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40kafka-connectoverview-li><input type=checkbox id=m-40kafka-connectoverview-check>
<label for=m-40kafka-connectoverview-check><a href=/40/kafka-connect/overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40kafka-connectoverview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40kafka-connectuser-guide-li><input type=checkbox id=m-40kafka-connectuser-guide-check>
<label for=m-40kafka-connectuser-guide-check><a href=/40/kafka-connect/user-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40kafka-connectuser-guide><span>User Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40kafka-connectconnector-development-guide-li><input type=checkbox id=m-40kafka-connectconnector-development-guide-check>
<label for=m-40kafka-connectconnector-development-guide-check><a href=/40/kafka-connect/connector-development-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40kafka-connectconnector-development-guide><span>Connector Development Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40kafka-connectadministration-li><input type=checkbox id=m-40kafka-connectadministration-check>
<label for=m-40kafka-connectadministration-check><a href=/40/kafka-connect/administration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40kafka-connectadministration><span>Administration</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40streams-li><input type=checkbox id=m-40streams-check>
<label for=m-40streams-check><a href=/40/streams/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40streams><span>Kafka Streams</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsintroduction-li><input type=checkbox id=m-40streamsintroduction-check>
<label for=m-40streamsintroduction-check><a href=/40/streams/introduction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsintroduction><span>Introduction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsquickstart-li><input type=checkbox id=m-40streamsquickstart-check>
<label for=m-40streamsquickstart-check><a href=/40/streams/quickstart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsquickstart><span>Quick Start</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamstutorial-li><input type=checkbox id=m-40streamstutorial-check>
<label for=m-40streamstutorial-check><a href=/40/streams/tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamstutorial><span>Write a streams app</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamscore-concepts-li><input type=checkbox id=m-40streamscore-concepts-check>
<label for=m-40streamscore-concepts-check><a href=/40/streams/core-concepts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamscore-concepts><span>Core Concepts</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsarchitecture-li><input type=checkbox id=m-40streamsarchitecture-check>
<label for=m-40streamsarchitecture-check><a href=/40/streams/architecture/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsarchitecture><span>Architecture</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsupgrade-guide-li><input type=checkbox id=m-40streamsupgrade-guide-check>
<label for=m-40streamsupgrade-guide-check><a href=/40/streams/upgrade-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsupgrade-guide><span>Upgrade Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-40streamsdeveloper-guide-li><input type=checkbox id=m-40streamsdeveloper-guide-check>
<label for=m-40streamsdeveloper-guide-check><a href=/40/streams/developer-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-40streamsdeveloper-guide><span>Streams Developer Guide</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidewrite-streams-app-li><input type=checkbox id=m-40streamsdeveloper-guidewrite-streams-app-check>
<label for=m-40streamsdeveloper-guidewrite-streams-app-check><a href=/40/streams/developer-guide/write-streams-app/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidewrite-streams-app><span>Writing a Streams Application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guideconfig-streams-li><input type=checkbox id=m-40streamsdeveloper-guideconfig-streams-check>
<label for=m-40streamsdeveloper-guideconfig-streams-check><a href=/40/streams/developer-guide/config-streams/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guideconfig-streams><span>Configuring a Streams Application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidedsl-api-li><input type=checkbox id=m-40streamsdeveloper-guidedsl-api-check>
<label for=m-40streamsdeveloper-guidedsl-api-check><a href=/40/streams/developer-guide/dsl-api/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidedsl-api><span>Streams DSL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guideprocessor-api-li><input type=checkbox id=m-40streamsdeveloper-guideprocessor-api-check>
<label for=m-40streamsdeveloper-guideprocessor-api-check><a href=/40/streams/developer-guide/processor-api/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guideprocessor-api><span>Processor API</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidedsl-topology-naming-li><input type=checkbox id=m-40streamsdeveloper-guidedsl-topology-naming-check>
<label for=m-40streamsdeveloper-guidedsl-topology-naming-check><a href=/40/streams/developer-guide/dsl-topology-naming/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidedsl-topology-naming><span>Naming Operators in a Streams DSL application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidedatatypes-li><input type=checkbox id=m-40streamsdeveloper-guidedatatypes-check>
<label for=m-40streamsdeveloper-guidedatatypes-check><a href=/40/streams/developer-guide/datatypes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidedatatypes><span>Data Types and Serialization</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidetesting-li><input type=checkbox id=m-40streamsdeveloper-guidetesting-check>
<label for=m-40streamsdeveloper-guidetesting-check><a href=/40/streams/developer-guide/testing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidetesting><span>Testing a Streams Application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guideinteractive-queries-li><input type=checkbox id=m-40streamsdeveloper-guideinteractive-queries-check>
<label for=m-40streamsdeveloper-guideinteractive-queries-check><a href=/40/streams/developer-guide/interactive-queries/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guideinteractive-queries><span>Interactive Queries</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidememory-mgmt-li><input type=checkbox id=m-40streamsdeveloper-guidememory-mgmt-check>
<label for=m-40streamsdeveloper-guidememory-mgmt-check><a href=/40/streams/developer-guide/memory-mgmt/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidememory-mgmt><span>Memory Management</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guiderunning-app-li><input type=checkbox id=m-40streamsdeveloper-guiderunning-app-check>
<label for=m-40streamsdeveloper-guiderunning-app-check><a href=/40/streams/developer-guide/running-app/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guiderunning-app><span>Running Streams Applications</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidemanage-topics-li><input type=checkbox id=m-40streamsdeveloper-guidemanage-topics-check>
<label for=m-40streamsdeveloper-guidemanage-topics-check><a href=/40/streams/developer-guide/manage-topics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidemanage-topics><span>Managing Streams Application Topics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guidesecurity-li><input type=checkbox id=m-40streamsdeveloper-guidesecurity-check>
<label for=m-40streamsdeveloper-guidesecurity-check><a href=/40/streams/developer-guide/security/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guidesecurity><span>Streams Security</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-40streamsdeveloper-guideapp-reset-tool-li><input type=checkbox id=m-40streamsdeveloper-guideapp-reset-tool-check>
<label for=m-40streamsdeveloper-guideapp-reset-tool-check><a href=/40/streams/developer-guide/app-reset-tool/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-40streamsdeveloper-guideapp-reset-tool><span>Application Reset Tool</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/apache/kafka-site//tree/markdown/content/en/40/security/authorization-and-acls.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/apache/kafka-site//edit/markdown/content/en/40/security/authorization-and-acls.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/apache/kafka-site//new/markdown/content/en/40/security?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/apache/kafka-site//issues/new?title=Authorization%20and%20ACLs" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a id=print href=/40/security/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#kraft-principal-forwarding>KRaft Principal Forwarding</a></li><li><a href=#customizing-ssl-user-name>Customizing SSL User Name</a></li><li><a href=#customizing-sasl-user-name>Customizing SASL User Name</a></li></ul></li><li><a href=#command-line-interface>Command Line Interface</a></li><li><a href=#examples>Examples</a></li><li><a href=#authorization-primitives>Authorization Primitives</a><ul><li><a href=#operations-in-kafka>Operations in Kafka</a></li><li><a href=#resources-in-kafka>Resources in Kafka</a></li><li><a href=#operations-and-resources-on-protocols>Operations and Resources on Protocols</a></li></ul></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tag Cloud</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/apis/ data-taxonomy-term=apis><span class=taxonomy-label>Apis</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/configuration/ data-taxonomy-term=configuration><span class=taxonomy-label>Configuration</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/design/ data-taxonomy-term=design><span class=taxonomy-label>Design</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/developer-guide/ data-taxonomy-term=developer-guide><span class=taxonomy-label>Developer-Guide</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/docs/ data-taxonomy-term=docs><span class=taxonomy-label>Docs</span><span class=taxonomy-count>1781</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/getting-started/ data-taxonomy-term=getting-started><span class=taxonomy-label>Getting-Started</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/implementation/ data-taxonomy-term=implementation><span class=taxonomy-label>Implementation</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>Kafka</span><span class=taxonomy-count>1781</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/ops/ data-taxonomy-term=ops><span class=taxonomy-label>Ops</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span><span class=taxonomy-count>64</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/streams/ data-taxonomy-term=streams><span class=taxonomy-label>Streams</span><span class=taxonomy-count>64</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class="pageinfo pageinfo-warning"><p>You are viewing documentation for an older version (4.0) of Kafka.
For up-to-date documentation, see the
<a href=/41/ target=_blank>latest version</a>.</p></div><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/40/>AK 4.0.X</a></li><li class=breadcrumb-item><a href=/40/security/>Security</a></li><li class="breadcrumb-item active" aria-current=page>Authorization and ACLs</li></ol></nav><div class=td-content><h1>Authorization and ACLs</h1><div class=lead>Authorization and ACLs</div><header class=article-meta><div class="taxonomy taxonomy-terms-article taxo-tags"><h5 class=taxonomy-title>Tags:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>Kafka</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/docs/ data-taxonomy-term=docs><span class=taxonomy-label>Docs</span></a></li></ul></div></header><h1 id=authorization-and-acls>Authorization and ACLs<a class=td-heading-self-link href=#authorization-and-acls aria-label="Heading self-link"></a></h1><p>Kafka ships with a pluggable authorization framework, which is configured with the <code>authorizer.class.name</code> property in the server configuration. Configured implementations must extend <code>org.apache.kafka.server.authorizer.Authorizer</code>. Kafka provides a default implementation which store ACLs in the cluster metadata (KRaft metadata log). For KRaft clusters, use the following configuration on all nodes (brokers, controllers, or combined broker/controller nodes):</p><pre><code>authorizer.class.name=org.apache.kafka.metadata.authorizer.StandardAuthorizer
</code></pre><p>Kafka ACLs are defined in the general format of &ldquo;Principal {P} is [Allowed|Denied] Operation {O} From Host {H} on any Resource {R} matching ResourcePattern {RP}&rdquo;. You can read more about the ACL structure in <a href=https://cwiki.apache.org/confluence/display/KAFKA/KIP-11+-+Authorization+Interface>KIP-11</a> and resource patterns in <a href=https://cwiki.apache.org/confluence/display/KAFKA/KIP-290%3A+Support+for+Prefixed+ACLs>KIP-290</a>. In order to add, remove, or list ACLs, you can use the Kafka ACL CLI <code>kafka-acls.sh</code>. By default, if no ResourcePatterns match a specific Resource R, then R has no associated ACLs, and therefore no one other than super users is allowed to access R. If you want to change that behavior, you can include the following in server.properties.</p><pre><code>allow.everyone.if.no.acl.found=true
</code></pre><p>One can also add super users in server.properties like the following (note that the delimiter is semicolon since SSL user names may contain comma). Default PrincipalType string &ldquo;User&rdquo; is case sensitive.</p><pre><code>super.users=User:Bob;User:Alice
</code></pre><h3 id=kraft-principal-forwarding>KRaft Principal Forwarding<a class=td-heading-self-link href=#kraft-principal-forwarding aria-label="Heading self-link"></a></h3><p>In KRaft clusters, admin requests such as <code>CreateTopics</code> and <code>DeleteTopics</code> are sent to the broker listeners by the client. The broker then forwards the request to the active controller through the first listener configured in <code>controller.listener.names</code>. Authorization of these requests is done on the controller node. This is achieved by way of an <code>Envelope</code> request which packages both the underlying request from the client as well as the client principal. When the controller receives the forwarded <code>Envelope</code> request from the broker, it first authorizes the <code>Envelope</code> request using the authenticated broker principal. Then it authorizes the underlying request using the forwarded principal.<br>All of this implies that Kafka must understand how to serialize and deserialize the client principal. The authentication framework allows for customized principals by overriding the <code>principal.builder.class</code> configuration. In order for customized principals to work with KRaft, the configured class must implement <code>org.apache.kafka.common.security.auth.KafkaPrincipalSerde</code> so that Kafka knows how to serialize and deserialize the principals. The default implementation <code>org.apache.kafka.common.security.authenticator.DefaultKafkaPrincipalBuilder</code> uses the Kafka RPC format defined in the source code: <code>clients/src/main/resources/common/message/DefaultPrincipalData.json</code>.</p><h3 id=customizing-ssl-user-name>Customizing SSL User Name<a class=td-heading-self-link href=#customizing-ssl-user-name aria-label="Heading self-link"></a></h3><p>By default, the SSL user name will be of the form &ldquo;CN=writeuser,OU=Unknown,O=Unknown,L=Unknown,ST=Unknown,C=Unknown&rdquo;. One can change that by setting <code>ssl.principal.mapping.rules</code> to a customized rule in server.properties. This config allows a list of rules for mapping X.500 distinguished name to short name. The rules are evaluated in order and the first rule that matches a distinguished name is used to map it to a short name. Any later rules in the list are ignored.<br>The format of <code>ssl.principal.mapping.rules</code> is a list where each rule starts with &ldquo;RULE:&rdquo; and contains an expression as the following formats. Default rule will return string representation of the X.500 certificate distinguished name. If the distinguished name matches the pattern, then the replacement command will be run over the name. This also supports lowercase/uppercase options, to force the translated result to be all lower/uppercase case. This is done by adding a &ldquo;/L&rdquo; or &ldquo;/U&rsquo; to the end of the rule.</p><pre><code>RULE:pattern/replacement/
RULE:pattern/replacement/[LU]
</code></pre><p>Example <code>ssl.principal.mapping.rules</code> values are:</p><pre><code>RULE:^CN=(.*?),OU=ServiceUsers.*$/$1/,
RULE:^CN=(.*?),OU=(.*?),O=(.*?),L=(.*?),ST=(.*?),C=(.*?)$/$1@$2/L,
RULE:^.*[Cc][Nn]=([a-zA-Z0-9.]*).*$/$1/L,
DEFAULT
</code></pre><p>Above rules translate distinguished name &ldquo;CN=serviceuser,OU=ServiceUsers,O=Unknown,L=Unknown,ST=Unknown,C=Unknown&rdquo; to &ldquo;serviceuser&rdquo; and &ldquo;CN=adminUser,OU=Admin,O=Unknown,L=Unknown,ST=Unknown,C=Unknown&rdquo; to &ldquo;adminuser@admin&rdquo;.<br>For advanced use cases, one can customize the name by setting a customized PrincipalBuilder in server.properties like the following.</p><pre><code>principal.builder.class=CustomizedPrincipalBuilderClass
</code></pre><h3 id=customizing-sasl-user-name>Customizing SASL User Name<a class=td-heading-self-link href=#customizing-sasl-user-name aria-label="Heading self-link"></a></h3><p>By default, the SASL user name will be the primary part of the Kerberos principal. One can change that by setting <code>sasl.kerberos.principal.to.local.rules</code> to a customized rule in server.properties. The format of <code>sasl.kerberos.principal.to.local.rules</code> is a list where each rule works in the same way as the auth_to_local in <a href=https://web.mit.edu/Kerberos/krb5-latest/doc/admin/conf_files/krb5_conf.html>Kerberos configuration file (krb5.conf)</a>. This also support additional lowercase/uppercase rule, to force the translated result to be all lowercase/uppercase. This is done by adding a &ldquo;/L&rdquo; or &ldquo;/U&rdquo; to the end of the rule. check below formats for syntax. Each rules starts with RULE: and contains an expression as the following formats. See the kerberos documentation for more details.</p><pre><code>RULE:[n:string](regexp)s/pattern/replacement/
RULE:[n:string](regexp)s/pattern/replacement/g
RULE:[n:string](regexp)s/pattern/replacement//L
RULE:[n:string](regexp)s/pattern/replacement/g/L
RULE:[n:string](regexp)s/pattern/replacement//U
RULE:[n:string](regexp)s/pattern/replacement/g/U
</code></pre><p>An example of adding a rule to properly translate <a href=mailto:user@MYDOMAIN.COM>user@MYDOMAIN.COM</a> to user while also keeping the default rule in place is:</p><pre><code>sasl.kerberos.principal.to.local.rules=RULE:[1:$1@$0](.*@MYDOMAIN.COM)s/@.*//,DEFAULT
</code></pre><h2 id=command-line-interface>Command Line Interface<a class=td-heading-self-link href=#command-line-interface aria-label="Heading self-link"></a></h2><p>Kafka Authorization management CLI can be found under bin directory with all the other CLIs. The CLI script is called <strong>kafka-acls.sh</strong>. Following lists all the options that the script supports:</p><table><thead><tr><th>Option</th><th>Description</th><th>Default</th><th>Option type</th></tr></thead><tbody><tr><td>--add</td><td>Indicates to the script that user is trying to add an acl.</td><td></td><td>Action</td></tr><tr><td>--remove</td><td>Indicates to the script that user is trying to remove an acl.</td><td></td><td>Action</td></tr><tr><td>--list</td><td>Indicates to the script that user is trying to list acls.</td><td></td><td>Action</td></tr><tr><td>--bootstrap-server</td><td>A list of host/port pairs to use for establishing the connection to the Kafka cluster broker. Only one of &ndash;bootstrap-server or &ndash;bootstrap-controller option must be specified.</td><td></td><td>Configuration</td></tr><tr><td>--bootstrap-controller</td><td>A list of host/port pairs to use for establishing the connection to the Kafka cluster controller. Only one of &ndash;bootstrap-server or &ndash;bootstrap-controller option must be specified.</td><td></td><td>Configuration</td></tr><tr><td>--command-config</td><td>A property file containing configs to be passed to Admin Client. This option can only be used with &ndash;bootstrap-server option.</td><td></td><td>Configuration</td></tr><tr><td>--cluster</td><td>Indicates to the script that the user is trying to interact with acls on the singular cluster resource.</td><td></td><td>ResourcePattern</td></tr><tr><td>--topic [topic-name]</td><td>Indicates to the script that the user is trying to interact with acls on topic resource pattern(s).</td><td></td><td>ResourcePattern</td></tr><tr><td>--group [group-name]</td><td>Indicates to the script that the user is trying to interact with acls on consumer-group resource pattern(s)</td><td></td><td>ResourcePattern</td></tr><tr><td>--transactional-id [transactional-id]</td><td>The transactionalId to which ACLs should be added or removed. A value of * indicates the ACLs should apply to all transactionalIds.</td><td></td><td>ResourcePattern</td></tr><tr><td>--delegation-token [delegation-token]</td><td>Delegation token to which ACLs should be added or removed. A value of * indicates ACL should apply to all tokens.</td><td></td><td>ResourcePattern</td></tr><tr><td>--user-principal [user-principal]</td><td>A user resource to which ACLs should be added or removed. This is currently supported in relation with delegation tokens. A value of * indicates ACL should apply to all users.</td><td></td><td>ResourcePattern</td></tr><tr><td>--resource-pattern-type [pattern-type]</td><td>Indicates to the script the type of resource pattern, (for &ndash;add), or resource pattern filter, (for &ndash;list and &ndash;remove), the user wishes to use.</td><td></td><td></td></tr><tr><td>When adding acls, this should be a specific pattern type, e.g. &rsquo;literal&rsquo; or &lsquo;prefixed&rsquo;.</td><td></td><td></td><td></td></tr><tr><td>When listing or removing acls, a specific pattern type filter can be used to list or remove acls from a specific type of resource pattern, or the filter values of &lsquo;any&rsquo; or &lsquo;match&rsquo; can be used, where &lsquo;any&rsquo; will match any pattern type, but will match the resource name exactly, and &lsquo;match&rsquo; will perform pattern matching to list or remove all acls that affect the supplied resource(s).</td><td></td><td></td><td></td></tr><tr><td>WARNING: &lsquo;match&rsquo;, when used in combination with the &lsquo;&ndash;remove&rsquo; switch, should be used with care.</td><td>literal</td><td>Configuration</td><td></td></tr><tr><td>--allow-principal</td><td>Principal is in PrincipalType:name format that will be added to ACL with Allow permission. Default PrincipalType string &ldquo;User&rdquo; is case sensitive.</td><td></td><td></td></tr><tr><td>You can specify multiple &ndash;allow-principal in a single command.</td><td></td><td>Principal</td><td></td></tr><tr><td>--deny-principal</td><td>Principal is in PrincipalType:name format that will be added to ACL with Deny permission. Default PrincipalType string &ldquo;User&rdquo; is case sensitive.</td><td></td><td></td></tr><tr><td>You can specify multiple &ndash;deny-principal in a single command.</td><td></td><td>Principal</td><td></td></tr><tr><td>--principal</td><td>Principal is in PrincipalType:name format that will be used along with &ndash;list option. Default PrincipalType string &ldquo;User&rdquo; is case sensitive. This will list the ACLs for the specified principal.</td><td></td><td></td></tr><tr><td>You can specify multiple &ndash;principal in a single command.</td><td></td><td>Principal</td><td></td></tr><tr><td>--allow-host</td><td>IP address from which principals listed in &ndash;allow-principal will have access.</td><td>if &ndash;allow-principal is specified defaults to * which translates to &ldquo;all hosts&rdquo;</td><td>Host</td></tr><tr><td>--deny-host</td><td>IP address from which principals listed in &ndash;deny-principal will be denied access.</td><td>if &ndash;deny-principal is specified defaults to * which translates to &ldquo;all hosts&rdquo;</td><td>Host</td></tr><tr><td>--operation</td><td>Operation that will be allowed or denied.</td><td></td><td></td></tr><tr><td>Valid values are:</td><td></td><td></td><td></td></tr></tbody></table><ul><li>Read</li><li>Write</li><li>Create</li><li>Delete</li><li>Alter</li><li>Describe</li><li>ClusterAction</li><li>DescribeConfigs</li><li>AlterConfigs</li><li>IdempotentWrite</li><li>CreateTokens</li><li>DescribeTokens</li><li>All</li></ul><p>| All | Operation<br>--producer | Convenience option to add/remove acls for producer role. This will generate acls that allows WRITE, DESCRIBE and CREATE on topic. | | Convenience<br>--consumer | Convenience option to add/remove acls for consumer role. This will generate acls that allows READ, DESCRIBE on topic and READ on consumer-group. | | Convenience<br>--idempotent | Enable idempotence for the producer. This should be used in combination with the &ndash;producer option.<br>Note that idempotence is enabled automatically if the producer is authorized to a particular transactional-id. | | Convenience<br>--force | Convenience option to assume yes to all queries and do not prompt. | | Convenience</p><h2 id=examples>Examples<a class=td-heading-self-link href=#examples aria-label="Heading self-link"></a></h2><ul><li><p><strong>Adding Acls</strong><br>Suppose you want to add an acl &ldquo;Principals User:Bob and User:Alice are allowed to perform Operation Read and Write on Topic Test-Topic from IP 198.51.100.0 and IP 198.51.100.1&rdquo;. You can do that by executing the CLI with following options:</p><pre><code>$ bin/kafka-acls.sh --bootstrap-server localhost:9092 --add --allow-principal User:Bob --allow-principal User:Alice --allow-host 198.51.100.0 --allow-host 198.51.100.1 --operation Read --operation Write --topic Test-topic
</code></pre></li></ul><p>By default, all principals that don&rsquo;t have an explicit acl that allows access for an operation to a resource are denied. In rare cases where an allow acl is defined that allows access to all but some principal we will have to use the &ndash;deny-principal and &ndash;deny-host option. For example, if we want to allow all users to Read from Test-topic but only deny User:BadBob from IP 198.51.100.3 we can do so using following commands:</p><pre><code>    $ bin/kafka-acls.sh --bootstrap-server localhost:9092 --add --allow-principal User:'*' --allow-host '*' --deny-principal User:BadBob --deny-host 198.51.100.3 --operation Read --topic Test-topic
</code></pre><p>Note that <code>--allow-host</code> and <code>--deny-host</code> only support IP addresses (hostnames are not supported). Above examples add acls to a topic by specifying &ndash;topic [topic-name] as the resource pattern option. Similarly user can add acls to cluster by specifying &ndash;cluster and to a consumer group by specifying &ndash;group [group-name]. You can add acls on any resource of a certain type, e.g. suppose you wanted to add an acl &ldquo;Principal User:Peter is allowed to produce to any Topic from IP 198.51.200.0&rdquo; You can do that by using the wildcard resource &lsquo;*&rsquo;, e.g. by executing the CLI with following options:</p><pre><code>    $ bin/kafka-acls.sh --bootstrap-server localhost:9092 --add --allow-principal User:Peter --allow-host 198.51.200.1 --producer --topic '*'
</code></pre><p>You can add acls on prefixed resource patterns, e.g. suppose you want to add an acl &ldquo;Principal User:Jane is allowed to produce to any Topic whose name starts with &lsquo;Test-&rsquo; from any host&rdquo;. You can do that by executing the CLI with following options:</p><pre><code>    $ bin/kafka-acls.sh --bootstrap-server localhost:9092 --add --allow-principal User:Jane --producer --topic Test- --resource-pattern-type prefixed
</code></pre><p>Note, &ndash;resource-pattern-type defaults to &rsquo;literal&rsquo;, which only affects resources with the exact same name or, in the case of the wildcard resource name &lsquo;*&rsquo;, a resource with any name.</p><ul><li><p><strong>Removing Acls</strong><br>Removing acls is pretty much the same. The only difference is instead of &ndash;add option users will have to specify &ndash;remove option. To remove the acls added by the first example above we can execute the CLI with following options:</p><pre><code>$ bin/kafka-acls.sh --bootstrap-server localhost:9092 --remove --allow-principal User:Bob --allow-principal User:Alice --allow-host 198.51.100.0 --allow-host 198.51.100.1 --operation Read --operation Write --topic Test-topic 
</code></pre></li></ul><p>If you want to remove the acl added to the prefixed resource pattern above we can execute the CLI with following options:</p><pre><code>    $ bin/kafka-acls.sh --bootstrap-server localhost:9092 --remove --allow-principal User:Jane --producer --topic Test- --resource-pattern-type Prefixed
</code></pre><ul><li><p><strong>List Acls</strong><br>We can list acls for any resource by specifying the &ndash;list option with the resource. To list all acls on the literal resource pattern Test-topic, we can execute the CLI with following options:</p><pre><code>$ bin/kafka-acls.sh --bootstrap-server localhost:9092 --list --topic Test-topic
</code></pre></li></ul><p>However, this will only return the acls that have been added to this exact resource pattern. Other acls can exist that affect access to the topic, e.g. any acls on the topic wildcard &lsquo;*&rsquo;, or any acls on prefixed resource patterns. Acls on the wildcard resource pattern can be queried explicitly:</p><pre><code>    $ bin/kafka-acls.sh --bootstrap-server localhost:9092 --list --topic '*'
</code></pre><p>However, it is not necessarily possible to explicitly query for acls on prefixed resource patterns that match Test-topic as the name of such patterns may not be known. We can list <em>all</em> acls affecting Test-topic by using &lsquo;&ndash;resource-pattern-type match&rsquo;, e.g.</p><pre><code>    &gt; bin/kafka-acls.sh --bootstrap-server localhost:9092 --list --topic Test-topic --resource-pattern-type match
</code></pre><p>This will list acls on all matching literal, wildcard and prefixed resource patterns.</p><ul><li><p><strong>Adding or removing a principal as producer or consumer</strong><br>The most common use case for acl management are adding/removing a principal as producer or consumer so we added convenience options to handle these cases. In order to add User:Bob as a producer of Test-topic we can execute the following command:</p><pre><code>$ bin/kafka-acls.sh --bootstrap-server localhost:9092 --add --allow-principal User:Bob --producer --topic Test-topic
</code></pre></li></ul><p>Similarly to add Alice as a consumer of Test-topic with consumer group Group-1 we just have to pass &ndash;consumer option:</p><pre><code>    $ bin/kafka-acls.sh --bootstrap-server localhost:9092 --add --allow-principal User:Bob --consumer --topic Test-topic --group Group-1 
</code></pre><p>Note that for consumer option we must also specify the consumer group. In order to remove a principal from producer or consumer role we just need to pass &ndash;remove option.</p><h2 id=authorization-primitives>Authorization Primitives<a class=td-heading-self-link href=#authorization-primitives aria-label="Heading self-link"></a></h2><p>Protocol calls are usually performing some operations on certain resources in Kafka. It is required to know the operations and resources to set up effective protection. In this section we&rsquo;ll list these operations and resources, then list the combination of these with the protocols to see the valid scenarios.</p><h3 id=operations-in-kafka>Operations in Kafka<a class=td-heading-self-link href=#operations-in-kafka aria-label="Heading self-link"></a></h3><p>There are a few operation primitives that can be used to build up privileges. These can be matched up with certain resources to allow specific protocol calls for a given user. These are:</p><ul><li>Read</li><li>Write</li><li>Create</li><li>Delete</li><li>Alter</li><li>Describe</li><li>ClusterAction</li><li>DescribeConfigs</li><li>AlterConfigs</li><li>IdempotentWrite</li><li>CreateTokens</li><li>DescribeTokens</li><li>All</li></ul><h3 id=resources-in-kafka>Resources in Kafka<a class=td-heading-self-link href=#resources-in-kafka aria-label="Heading self-link"></a></h3><p>The operations above can be applied on certain resources which are described below.</p><ul><li><strong>Topic:</strong> this simply represents a Topic. All protocol calls that are acting on topics (such as reading, writing them) require the corresponding privilege to be added. If there is an authorization error with a topic resource, then a TOPIC_AUTHORIZATION_FAILED (error code: 29) will be returned.</li><li><strong>Group:</strong> this represents the consumer groups in the brokers. All protocol calls that are working with consumer groups, like joining a group must have privileges with the group in subject. If the privilege is not given then a GROUP_AUTHORIZATION_FAILED (error code: 30) will be returned in the protocol response.</li><li><strong>Cluster:</strong> this resource represents the cluster. Operations that are affecting the whole cluster, like controlled shutdown are protected by privileges on the Cluster resource. If there is an authorization problem on a cluster resource, then a CLUSTER_AUTHORIZATION_FAILED (error code: 31) will be returned.</li><li><strong>TransactionalId:</strong> this resource represents actions related to transactions, such as committing. If any error occurs, then a TRANSACTIONAL_ID_AUTHORIZATION_FAILED (error code: 53) will be returned by brokers.</li><li><strong>DelegationToken:</strong> this represents the delegation tokens in the cluster. Actions, such as describing delegation tokens could be protected by a privilege on the DelegationToken resource. Since these objects have a little special behavior in Kafka it is recommended to read <a href=https://cwiki.apache.org/confluence/display/KAFKA/KIP-48+Delegation+token+support+for+Kafka#KIP-48DelegationtokensupportforKafka-DescribeDelegationTokenRequest>KIP-48</a> and the related upstream documentation at Authentication using Delegation Tokens.</li><li><strong>User:</strong> CreateToken and DescribeToken operations can be granted to User resources to allow creating and describing tokens for other users. More info can be found in <a href=https://cwiki.apache.org/confluence/display/KAFKA/KIP-373%3A+Allow+users+to+create+delegation+tokens+for+other+users>KIP-373</a>.</li></ul><h3 id=operations-and-resources-on-protocols>Operations and Resources on Protocols<a class=td-heading-self-link href=#operations-and-resources-on-protocols aria-label="Heading self-link"></a></h3><p>In the below table we&rsquo;ll list the valid operations on resources that are executed by the Kafka API protocols.</p><table><thead><tr><th>Protocol (API key)</th><th>Operation</th><th>Resource</th><th>Note</th></tr></thead><tbody><tr><td>PRODUCE (0)</td><td>Write</td><td>TransactionalId</td><td>A transactional producer which has its transactional.id set requires this privilege.</td></tr><tr><td>PRODUCE (0)</td><td>IdempotentWrite</td><td>Cluster</td><td>An idempotent produce action requires this privilege.</td></tr><tr><td>PRODUCE (0)</td><td>Write</td><td>Topic</td><td>This applies to a normal produce action.</td></tr><tr><td>FETCH (1)</td><td>ClusterAction</td><td>Cluster</td><td>A follower must have ClusterAction on the Cluster resource in order to fetch partition data.</td></tr><tr><td>FETCH (1)</td><td>Read</td><td>Topic</td><td>Regular Kafka consumers need READ permission on each partition they are fetching.</td></tr><tr><td>LIST_OFFSETS (2)</td><td>Describe</td><td>Topic</td><td></td></tr><tr><td>METADATA (3)</td><td>Describe</td><td>Topic</td><td></td></tr><tr><td>METADATA (3)</td><td>Create</td><td>Cluster</td><td>If topic auto-creation is enabled, then the broker-side API will check for the existence of a Cluster level privilege. If it&rsquo;s found then it&rsquo;ll allow creating the topic, otherwise it&rsquo;ll iterate through the Topic level privileges (see the next one).</td></tr><tr><td>METADATA (3)</td><td>Create</td><td>Topic</td><td>This authorizes auto topic creation if enabled but the given user doesn&rsquo;t have a cluster level permission (above).</td></tr><tr><td>LEADER_AND_ISR (4)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>STOP_REPLICA (5)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>UPDATE_METADATA (6)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>CONTROLLED_SHUTDOWN (7)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>OFFSET_COMMIT (8)</td><td>Read</td><td>Group</td><td>An offset can only be committed if it&rsquo;s authorized to the given group and the topic too (see below). Group access is checked first, then Topic access.</td></tr><tr><td>OFFSET_COMMIT (8)</td><td>Read</td><td>Topic</td><td>Since offset commit is part of the consuming process, it needs privileges for the read action.</td></tr><tr><td>OFFSET_FETCH (9)</td><td>Describe</td><td>Group</td><td>Similarly to OFFSET_COMMIT, the application must have privileges on group and topic level too to be able to fetch. However in this case it requires describe access instead of read. Group access is checked first, then Topic access.</td></tr><tr><td>OFFSET_FETCH (9)</td><td>Describe</td><td>Topic</td><td></td></tr><tr><td>FIND_COORDINATOR (10)</td><td>Describe</td><td>Group</td><td>The FIND_COORDINATOR request can be of &ldquo;Group&rdquo; type in which case it is looking for consumergroup coordinators. This privilege would represent the Group mode.</td></tr><tr><td>FIND_COORDINATOR (10)</td><td>Describe</td><td>TransactionalId</td><td>This applies only on transactional producers and checked when a producer tries to find the transaction coordinator.</td></tr><tr><td>JOIN_GROUP (11)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>HEARTBEAT (12)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>LEAVE_GROUP (13)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>SYNC_GROUP (14)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>DESCRIBE_GROUPS (15)</td><td>Describe</td><td>Group</td><td></td></tr><tr><td>LIST_GROUPS (16)</td><td>Describe</td><td>Cluster</td><td>When the broker checks to authorize a list_groups request it first checks for this cluster level authorization. If none found then it proceeds to check the groups individually. This operation doesn&rsquo;t return CLUSTER_AUTHORIZATION_FAILED.</td></tr><tr><td>LIST_GROUPS (16)</td><td>Describe</td><td>Group</td><td>If none of the groups are authorized, then just an empty response will be sent back instead of an error. This operation doesn&rsquo;t return CLUSTER_AUTHORIZATION_FAILED. This is applicable from the 2.1 release.</td></tr><tr><td>SASL_HANDSHAKE (17)</td><td></td><td></td><td>The SASL handshake is part of the authentication process and therefore it&rsquo;s not possible to apply any kind of authorization here.</td></tr><tr><td>API_VERSIONS (18)</td><td></td><td></td><td>The API_VERSIONS request is part of the Kafka protocol handshake and happens on connection and before any authentication. Therefore it&rsquo;s not possible to control this with authorization.</td></tr><tr><td>CREATE_TOPICS (19)</td><td>Create</td><td>Cluster</td><td>If there is no cluster level authorization then it won&rsquo;t return CLUSTER_AUTHORIZATION_FAILED but fall back to use topic level, which is just below. That&rsquo;ll throw error if there is a problem.</td></tr><tr><td>CREATE_TOPICS (19)</td><td>Create</td><td>Topic</td><td>This is applicable from the 2.0 release.</td></tr><tr><td>DELETE_TOPICS (20)</td><td>Delete</td><td>Topic</td><td></td></tr><tr><td>DELETE_RECORDS (21)</td><td>Delete</td><td>Topic</td><td></td></tr><tr><td>INIT_PRODUCER_ID (22)</td><td>Write</td><td>TransactionalId</td><td></td></tr><tr><td>INIT_PRODUCER_ID (22)</td><td>IdempotentWrite</td><td>Cluster</td><td></td></tr><tr><td>OFFSET_FOR_LEADER_EPOCH (23)</td><td>ClusterAction</td><td>Cluster</td><td>If there is no cluster level privilege for this operation, then it&rsquo;ll check for topic level one.</td></tr><tr><td>OFFSET_FOR_LEADER_EPOCH (23)</td><td>Describe</td><td>Topic</td><td>This is applicable from the 2.1 release.</td></tr><tr><td>ADD_PARTITIONS_TO_TXN (24)</td><td>Write</td><td>TransactionalId</td><td>This API is only applicable to transactional requests. It first checks for the Write action on the TransactionalId resource, then it checks the Topic in subject (below).</td></tr><tr><td>ADD_PARTITIONS_TO_TXN (24)</td><td>Write</td><td>Topic</td><td></td></tr><tr><td>ADD_OFFSETS_TO_TXN (25)</td><td>Write</td><td>TransactionalId</td><td>Similarly to ADD_PARTITIONS_TO_TXN this is only applicable to transactional request. It first checks for Write action on the TransactionalId resource, then it checks whether it can Read on the given group (below).</td></tr><tr><td>ADD_OFFSETS_TO_TXN (25)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>END_TXN (26)</td><td>Write</td><td>TransactionalId</td><td></td></tr><tr><td>WRITE_TXN_MARKERS (27)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>WRITE_TXN_MARKERS (27)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>TXN_OFFSET_COMMIT (28)</td><td>Write</td><td>TransactionalId</td><td></td></tr><tr><td>TXN_OFFSET_COMMIT (28)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>TXN_OFFSET_COMMIT (28)</td><td>Read</td><td>Topic</td><td></td></tr><tr><td>DESCRIBE_ACLS (29)</td><td>Describe</td><td>Cluster</td><td></td></tr><tr><td>CREATE_ACLS (30)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>DELETE_ACLS (31)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_CONFIGS (32)</td><td>DescribeConfigs</td><td>Cluster</td><td>If broker configs are requested, then the broker will check cluster level privileges.</td></tr><tr><td>DESCRIBE_CONFIGS (32)</td><td>DescribeConfigs</td><td>Topic</td><td>If topic configs are requested, then the broker will check topic level privileges.</td></tr><tr><td>ALTER_CONFIGS (33)</td><td>AlterConfigs</td><td>Cluster</td><td>If broker configs are altered, then the broker will check cluster level privileges.</td></tr><tr><td>ALTER_CONFIGS (33)</td><td>AlterConfigs</td><td>Topic</td><td>If topic configs are altered, then the broker will check topic level privileges.</td></tr><tr><td>ALTER_REPLICA_LOG_DIRS (34)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_LOG_DIRS (35)</td><td>Describe</td><td>Cluster</td><td>An empty response will be returned on authorization failure.</td></tr><tr><td>SASL_AUTHENTICATE (36)</td><td></td><td></td><td>SASL_AUTHENTICATE is part of the authentication process and therefore it&rsquo;s not possible to apply any kind of authorization here.</td></tr><tr><td>CREATE_PARTITIONS (37)</td><td>Alter</td><td>Topic</td><td></td></tr><tr><td>CREATE_DELEGATION_TOKEN (38)</td><td></td><td></td><td>Creating delegation tokens has special rules, for this please see the Authentication using Delegation Tokens section.</td></tr><tr><td>CREATE_DELEGATION_TOKEN (38)</td><td>CreateTokens</td><td>User</td><td>Allows creating delegation tokens for the User resource.</td></tr><tr><td>RENEW_DELEGATION_TOKEN (39)</td><td></td><td></td><td>Renewing delegation tokens has special rules, for this please see the Authentication using Delegation Tokens section.</td></tr><tr><td>EXPIRE_DELEGATION_TOKEN (40)</td><td></td><td></td><td>Expiring delegation tokens has special rules, for this please see the Authentication using Delegation Tokens section.</td></tr><tr><td>DESCRIBE_DELEGATION_TOKEN (41)</td><td>Describe</td><td>DelegationToken</td><td>Describing delegation tokens has special rules, for this please see the Authentication using Delegation Tokens section.</td></tr><tr><td>DESCRIBE_DELEGATION_TOKEN (41)</td><td>DescribeTokens</td><td>User</td><td>Allows describing delegation tokens of the User resource.</td></tr><tr><td>DELETE_GROUPS (42)</td><td>Delete</td><td>Group</td><td></td></tr><tr><td>ELECT_PREFERRED_LEADERS (43)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>INCREMENTAL_ALTER_CONFIGS (44)</td><td>AlterConfigs</td><td>Cluster</td><td>If broker configs are altered, then the broker will check cluster level privileges.</td></tr><tr><td>INCREMENTAL_ALTER_CONFIGS (44)</td><td>AlterConfigs</td><td>Topic</td><td>If topic configs are altered, then the broker will check topic level privileges.</td></tr><tr><td>ALTER_PARTITION_REASSIGNMENTS (45)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>LIST_PARTITION_REASSIGNMENTS (46)</td><td>Describe</td><td>Cluster</td><td></td></tr><tr><td>OFFSET_DELETE (47)</td><td>Delete</td><td>Group</td><td></td></tr><tr><td>OFFSET_DELETE (47)</td><td>Read</td><td>Topic</td><td></td></tr><tr><td>DESCRIBE_CLIENT_QUOTAS (48)</td><td>DescribeConfigs</td><td>Cluster</td><td></td></tr><tr><td>ALTER_CLIENT_QUOTAS (49)</td><td>AlterConfigs</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_USER_SCRAM_CREDENTIALS (50)</td><td>Describe</td><td>Cluster</td><td></td></tr><tr><td>ALTER_USER_SCRAM_CREDENTIALS (51)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>VOTE (52)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>BEGIN_QUORUM_EPOCH (53)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>END_QUORUM_EPOCH (54)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_QUORUM (55)</td><td>Describe</td><td>Cluster</td><td></td></tr><tr><td>ALTER_PARTITION (56)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>UPDATE_FEATURES (57)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>ENVELOPE (58)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>FETCH_SNAPSHOT (59)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_CLUSTER (60)</td><td>Describe</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_PRODUCERS (61)</td><td>Read</td><td>Topic</td><td></td></tr><tr><td>BROKER_REGISTRATION (62)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>BROKER_HEARTBEAT (63)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>UNREGISTER_BROKER (64)</td><td>Alter</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_TRANSACTIONS (65)</td><td>Describe</td><td>TransactionalId</td><td></td></tr><tr><td>LIST_TRANSACTIONS (66)</td><td>Describe</td><td>TransactionalId</td><td></td></tr><tr><td>ALLOCATE_PRODUCER_IDS (67)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>CONSUMER_GROUP_HEARTBEAT (68)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>CONSUMER_GROUP_DESCRIBE (69)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>CONTROLLER_REGISTRATION (70)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>GET_TELEMETRY_SUBSCRIPTIONS (71)</td><td></td><td></td><td>No authorization check is performed for this request.</td></tr><tr><td>PUSH_TELEMETRY (72)</td><td></td><td></td><td>No authorization check is performed for this request.</td></tr><tr><td>ASSIGN_REPLICAS_TO_DIRS (73)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>LIST_CLIENT_METRICS_RESOURCES (74)</td><td>DescribeConfigs</td><td>Cluster</td><td></td></tr><tr><td>DESCRIBE_TOPIC_PARTITIONS (75)</td><td>Describe</td><td>Topic</td><td></td></tr><tr><td>SHARE_GROUP_HEARTBEAT (76)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>SHARE_GROUP_DESCRIBE (77)</td><td>Describe</td><td>Group</td><td></td></tr><tr><td>SHARE_FETCH (78)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>SHARE_FETCH (78)</td><td>Read</td><td>Topic</td><td></td></tr><tr><td>SHARE_ACKNOWLEDGE (79)</td><td>Read</td><td>Group</td><td></td></tr><tr><td>SHARE_ACKNOWLEDGE (79)</td><td>Read</td><td>Topic</td><td></td></tr><tr><td>INITIALIZE_SHARE_GROUP_STATE (83)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>READ_SHARE_GROUP_STATE (84)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>WRITE_SHARE_GROUP_STATE (85)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>DELETE_SHARE_GROUP_STATE (86)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr><tr><td>READ_SHARE_GROUP_STATE_SUMMARY (87)</td><td>ClusterAction</td><td>Cluster</td><td></td></tr></tbody></table><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","page_helpful",{event_category:"Helpful",event_label:window.location.pathname,value:e})};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(100)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class=td-page-meta__lastmod>Last modified March 28, 2025: <a href=https://github.com/apache/kafka-site//commit/4222b044c6a6711fe1afe8f6371eaa3cb5430a30>Updates from 4.0 (4222b044)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=Contact aria-label=Contact><a target=_blank rel=noopener href=/community/contact/ aria-label=Contact><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/apachekafka aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/apache-kafka aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/apache/kafka aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=mailto:dev@kafka.apache.org aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2014&ndash;2025
<span class=td-footer__authors>By <a href=https://www.apache.org/>Apache Software Foundation</a> under the terms of the <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache License v2</a></span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://privacy.apache.org/policies/privacy-policy-public.html target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/js/main.min.dc2c0119076a0df855e55a8044ce0de74b7b9033c20e853e22d7ec7e9bdde965.js integrity="sha256-3CwBGQdqDfhV5VqARM4N50t7kDPCDoU+Itfsfpvd6WU=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>