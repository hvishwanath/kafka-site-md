<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Encryption and Authentication using SSL | </title><meta name=description content="Encryption and Authentication using SSL"><meta property="og:title" content="Encryption and Authentication using SSL"><meta property="og:description" content="Encryption and Authentication using SSL"><meta property="og:type" content="article"><meta property="og:url" content="https://example.kafka-site-md.dev/36/security/encryption-and-authentication-using-ssl/"><meta property="article:section" content="36"><meta property="article:modified_time" content="2025-01-03T16:06:33-08:00"><meta itemprop=name content="Encryption and Authentication using SSL"><meta itemprop=description content="Encryption and Authentication using SSL"><meta itemprop=dateModified content="2025-01-03T16:06:33-08:00"><meta itemprop=wordCount content="3318"><meta itemprop=keywords content="kafka,docs,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Encryption and Authentication using SSL"><meta name=twitter:description content="Encryption and Authentication using SSL"><link rel=preload href=/scss/main.min.7ed0eb3fc68a0678ca492e0db9c00f8e8d5b776bbb2fb833732191f6bbf02877.css as=style integrity="sha256-ftDrP8aKBnjKSS4NucAPjo1bd2u7L7gzcyGR9rvwKHc=" crossorigin=anonymous><link href=/scss/main.min.7ed0eb3fc68a0678ca492e0db9c00f8e8d5b776bbb2fb833732191f6bbf02877.css rel=stylesheet integrity="sha256-ftDrP8aKBnjKSS4NucAPjo1bd2u7L7gzcyGR9rvwKHc=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg width="154" height="250" viewBox="0 0 256 416" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><path d="M201.816 230.216c-16.186.0-30.697 7.171-40.634 18.461l-25.463-18.026c2.703-7.442 4.255-15.433 4.255-23.797.0-8.219-1.498-16.076-4.112-23.408l25.406-17.835c9.936 11.233 24.409 18.365 40.548 18.365 29.875.0 54.184-24.305 54.184-54.184.0-29.879-24.309-54.184-54.184-54.184s-54.184 24.305-54.184 54.184c0 5.348.808 10.505 2.258 15.389l-25.423 17.844c-10.62-13.175-25.911-22.374-43.333-25.182v-30.64c24.544-5.155 43.037-26.962 43.037-53.019C124.171 24.305 99.862.0 69.987.0 40.112.0 15.803 24.305 15.803 54.184c0 25.708 18.014 47.246 42.067 52.769v31.038C25.044 143.753.0 172.401.0 206.854c0 34.621 25.292 63.374 58.355 68.94v32.774c-24.299 5.341-42.552 27.011-42.552 52.894.0 29.879 24.309 54.184 54.184 54.184s54.184-24.305 54.184-54.184c0-25.883-18.253-47.553-42.552-52.894v-32.775a69.965 69.965.0 0042.6-24.776l25.633 18.143c-1.423 4.84-2.22 9.946-2.22 15.24.0 29.879 24.309 54.184 54.184 54.184S256 314.279 256 284.4c0-29.879-24.309-54.184-54.184-54.184zm0-126.695c14.487.0 26.27 11.788 26.27 26.271s-11.783 26.27-26.27 26.27-26.27-11.787-26.27-26.27 11.783-26.271 26.27-26.271zm-158.1-49.337c0-14.483 11.784-26.27 26.271-26.27s26.27 11.787 26.27 26.27c0 14.483-11.783 26.27-26.27 26.27s-26.271-11.787-26.271-26.27zm52.541 307.278c0 14.483-11.783 26.27-26.27 26.27s-26.271-11.787-26.271-26.27 11.784-26.27 26.271-26.27 26.27 11.787 26.27 26.27zm-26.272-117.97c-20.205.0-36.642-16.434-36.642-36.638.0-20.205 16.437-36.642 36.642-36.642 20.204.0 36.641 16.437 36.641 36.642.0 20.204-16.437 36.638-36.641 36.638zm131.831 67.179c-14.487.0-26.27-11.788-26.27-26.271s11.783-26.27 26.27-26.27 26.27 11.787 26.27 26.27-11.783 26.271-26.27 26.271z" style="fill:#231f20"/></svg></span><span class=navbar-brand__name></span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/40/><span>Documentation</span></a></li><li class=nav-item><a class=nav-link href=/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/community/><span>Community</span></a></li><li class=nav-item><a class=nav-link href=/testimonials/><span>Testimonials</span></a></li><li class=nav-item><a class=nav-link href=/community/downloads/><span>Download Kafka</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Releases</a><ul class=dropdown-menu><li><a class=dropdown-item href=/40/>4.0</a></li><li><a class=dropdown-item href=/39/>3.9</a></li><li><a class=dropdown-item href=/38/>3.8</a></li><li><a class=dropdown-item href=/37/>3.7</a></li><li><a class=dropdown-item href=/36/>3.6</a></li><li><a class=dropdown-item href=/35/>3.5</a></li><li><a class=dropdown-item href=/34/>3.4</a></li><li><a class=dropdown-item href=/33/>3.3</a></li><li><a class=dropdown-item href=/32/>3.2</a></li><li><a class=dropdown-item href=/31/>3.1</a></li><li><a class=dropdown-item href=/30/>3.0</a></li><li><a class=dropdown-item href=/28/>2.8</a></li><li><a class=dropdown-item href=/27/>2.7</a></li><li><a class=dropdown-item href=/26/>2.6</a></li><li><a class=dropdown-item href=/25/>2.5</a></li><li><a class=dropdown-item href=/24/>2.4</a></li><li><a class=dropdown-item href=/23/>2.3</a></li><li><a class=dropdown-item href=/22/>2.2</a></li><li><a class=dropdown-item href=/21/>2.1</a></li><li><a class=dropdown-item href=/20/>2.0</a></li><li><a class=dropdown-item href=/11/>1.1</a></li><li><a class=dropdown-item href=/10/>1.0</a></li><li><a class=dropdown-item href=/0110/>0.11.0</a></li><li><a class=dropdown-item href=/0102/>0.10.2</a></li><li><a class=dropdown-item href=/0101/>0.10.1</a></li><li><a class=dropdown-item href=/0100/>0.10.0</a></li><li><a class=dropdown-item href=/090/>0.9.0</a></li><li><a class=dropdown-item href=/082/>0.8.2</a></li><li><a class=dropdown-item href=/081/>0.8.1</a></li><li><a class=dropdown-item href=/080/>0.8.0</a></li><li><a class=dropdown-item href=/07/>0.7</a></li></ul></div></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.b12dd2b63080ea49c35456712ace836e.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.b12dd2b63080ea49c35456712ace836e.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-36-li><a href=/36/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-36><span>AK 3.6.X</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36getting-started-li><input type=checkbox id=m-36getting-started-check>
<label for=m-36getting-started-check><a href=/36/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36getting-started><span>Getting Started</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36getting-startedintroduction-li><input type=checkbox id=m-36getting-startedintroduction-check>
<label for=m-36getting-startedintroduction-check><a href=/36/getting-started/introduction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36getting-startedintroduction><span>Introduction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36getting-starteduses-li><input type=checkbox id=m-36getting-starteduses-check>
<label for=m-36getting-starteduses-check><a href=/36/getting-started/uses/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36getting-starteduses><span>Use Cases</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36getting-startedquickstart-li><input type=checkbox id=m-36getting-startedquickstart-check>
<label for=m-36getting-startedquickstart-check><a href=/36/getting-started/quickstart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36getting-startedquickstart><span>Quick Start</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36getting-startedecosystem-li><input type=checkbox id=m-36getting-startedecosystem-check>
<label for=m-36getting-startedecosystem-check><a href=/36/getting-started/ecosystem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36getting-startedecosystem><span>Ecosystem</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36getting-startedupgrade-li><input type=checkbox id=m-36getting-startedupgrade-check>
<label for=m-36getting-startedupgrade-check><a href=/36/getting-started/upgrade/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36getting-startedupgrade><span>Upgrading</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36apis-li><input type=checkbox id=m-36apis-check>
<label for=m-36apis-check><a href=/36/apis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36apis><span>APIs</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36apisapi-li><input type=checkbox id=m-36apisapi-check>
<label for=m-36apisapi-check><a href=/36/apis/api/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36apisapi><span>API</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36configuration-li><input type=checkbox id=m-36configuration-check>
<label for=m-36configuration-check><a href=/36/configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36configuration><span>Configuration</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36configurationconfiguration-li><input type=checkbox id=m-36configurationconfiguration-check>
<label for=m-36configurationconfiguration-check><a href=/36/configuration/configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36configurationconfiguration><span>Configuration</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36design-li><input type=checkbox id=m-36design-check>
<label for=m-36design-check><a href=/36/design/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36design><span>Design</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36designdesign-li><input type=checkbox id=m-36designdesign-check>
<label for=m-36designdesign-check><a href=/36/design/design/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36designdesign><span>Design</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36designprotocol-li><input type=checkbox id=m-36designprotocol-check>
<label for=m-36designprotocol-check><a href=/36/design/protocol/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36designprotocol><span>Protocol</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36implementation-li><input type=checkbox id=m-36implementation-check>
<label for=m-36implementation-check><a href=/36/implementation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36implementation><span>Implementation</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36implementationnetwork-layer-li><input type=checkbox id=m-36implementationnetwork-layer-check>
<label for=m-36implementationnetwork-layer-check><a href=/36/implementation/network-layer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36implementationnetwork-layer><span>Network Layer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36implementationmessages-li><input type=checkbox id=m-36implementationmessages-check>
<label for=m-36implementationmessages-check><a href=/36/implementation/messages/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36implementationmessages><span>Messages</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36implementationmessage-format-li><input type=checkbox id=m-36implementationmessage-format-check>
<label for=m-36implementationmessage-format-check><a href=/36/implementation/message-format/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36implementationmessage-format><span>Message Format</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36implementationlog-li><input type=checkbox id=m-36implementationlog-check>
<label for=m-36implementationlog-check><a href=/36/implementation/log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36implementationlog><span>Log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36implementationdistribution-li><input type=checkbox id=m-36implementationdistribution-check>
<label for=m-36implementationdistribution-check><a href=/36/implementation/distribution/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36implementationdistribution><span>Distribution</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36operations-li><input type=checkbox id=m-36operations-check>
<label for=m-36operations-check><a href=/36/operations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36operations><span>Operations</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationsbasic-kafka-operations-li><input type=checkbox id=m-36operationsbasic-kafka-operations-check>
<label for=m-36operationsbasic-kafka-operations-check><a href=/36/operations/basic-kafka-operations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationsbasic-kafka-operations><span>Basic Kafka Operations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationsdatacenters-li><input type=checkbox id=m-36operationsdatacenters-check>
<label for=m-36operationsdatacenters-check><a href=/36/operations/datacenters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationsdatacenters><span>Datacenters</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationsgeo-replication-cross-cluster-data-mirroring-li><input type=checkbox id=m-36operationsgeo-replication-cross-cluster-data-mirroring-check>
<label for=m-36operationsgeo-replication-cross-cluster-data-mirroring-check><a href=/36/operations/geo-replication-cross-cluster-data-mirroring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationsgeo-replication-cross-cluster-data-mirroring><span>Geo-Replication (Cross-Cluster Data Mirroring)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationsmulti-tenancy-li><input type=checkbox id=m-36operationsmulti-tenancy-check>
<label for=m-36operationsmulti-tenancy-check><a href=/36/operations/multi-tenancy/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationsmulti-tenancy><span>Multi-Tenancy</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationskafka-configuration-li><input type=checkbox id=m-36operationskafka-configuration-check>
<label for=m-36operationskafka-configuration-check><a href=/36/operations/kafka-configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationskafka-configuration><span>Kafka Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationsjava-version-li><input type=checkbox id=m-36operationsjava-version-check>
<label for=m-36operationsjava-version-check><a href=/36/operations/java-version/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationsjava-version><span>Java Version</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationshardware-and-os-li><input type=checkbox id=m-36operationshardware-and-os-check>
<label for=m-36operationshardware-and-os-check><a href=/36/operations/hardware-and-os/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationshardware-and-os><span>Hardware and OS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationsmonitoring-li><input type=checkbox id=m-36operationsmonitoring-check>
<label for=m-36operationsmonitoring-check><a href=/36/operations/monitoring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationsmonitoring><span>Monitoring</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationszookeeper-li><input type=checkbox id=m-36operationszookeeper-check>
<label for=m-36operationszookeeper-check><a href=/36/operations/zookeeper/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationszookeeper><span>ZooKeeper</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationskraft-li><input type=checkbox id=m-36operationskraft-check>
<label for=m-36operationskraft-check><a href=/36/operations/kraft/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationskraft><span>KRaft</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36operationstiered-storage-li><input type=checkbox id=m-36operationstiered-storage-check>
<label for=m-36operationstiered-storage-check><a href=/36/operations/tiered-storage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36operationstiered-storage><span>Tiered Storage</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-36security-li><input type=checkbox id=m-36security-check checked>
<label for=m-36security-check><a href=/36/security/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36security><span>Security</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36securitysecurity-overview-li><input type=checkbox id=m-36securitysecurity-overview-check>
<label for=m-36securitysecurity-overview-check><a href=/36/security/security-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36securitysecurity-overview><span>Security Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36securitylistener-configuration-li><input type=checkbox id=m-36securitylistener-configuration-check>
<label for=m-36securitylistener-configuration-check><a href=/36/security/listener-configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36securitylistener-configuration><span>Listener Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-36securityencryption-and-authentication-using-ssl-li><input type=checkbox id=m-36securityencryption-and-authentication-using-ssl-check checked>
<label for=m-36securityencryption-and-authentication-using-ssl-check><a href=/36/security/encryption-and-authentication-using-ssl/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-36securityencryption-and-authentication-using-ssl><span class=td-sidebar-nav-active-item>Encryption and Authentication using SSL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36securityauthentication-using-sasl-li><input type=checkbox id=m-36securityauthentication-using-sasl-check>
<label for=m-36securityauthentication-using-sasl-check><a href=/36/security/authentication-using-sasl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36securityauthentication-using-sasl><span>Authentication using SASL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36securityauthorization-and-acls-li><input type=checkbox id=m-36securityauthorization-and-acls-check>
<label for=m-36securityauthorization-and-acls-check><a href=/36/security/authorization-and-acls/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36securityauthorization-and-acls><span>Authorization and ACLs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36securityincorporating-security-features-in-a-running-cluster-li><input type=checkbox id=m-36securityincorporating-security-features-in-a-running-cluster-check>
<label for=m-36securityincorporating-security-features-in-a-running-cluster-check><a href=/36/security/incorporating-security-features-in-a-running-cluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36securityincorporating-security-features-in-a-running-cluster><span>Incorporating Security Features in a Running Cluster</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36securityzookeeper-authentication-li><input type=checkbox id=m-36securityzookeeper-authentication-check>
<label for=m-36securityzookeeper-authentication-check><a href=/36/security/zookeeper-authentication/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36securityzookeeper-authentication><span>ZooKeeper Authentication</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36securityzookeeper-encryption-li><input type=checkbox id=m-36securityzookeeper-encryption-check>
<label for=m-36securityzookeeper-encryption-check><a href=/36/security/zookeeper-encryption/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36securityzookeeper-encryption><span>ZooKeeper Encryption</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36kafka-connect-li><input type=checkbox id=m-36kafka-connect-check>
<label for=m-36kafka-connect-check><a href=/36/kafka-connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36kafka-connect><span>Kafka Connect</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36kafka-connectoverview-li><input type=checkbox id=m-36kafka-connectoverview-check>
<label for=m-36kafka-connectoverview-check><a href=/36/kafka-connect/overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36kafka-connectoverview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36kafka-connectuser-guide-li><input type=checkbox id=m-36kafka-connectuser-guide-check>
<label for=m-36kafka-connectuser-guide-check><a href=/36/kafka-connect/user-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36kafka-connectuser-guide><span>User Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36kafka-connectconnector-development-guide-li><input type=checkbox id=m-36kafka-connectconnector-development-guide-check>
<label for=m-36kafka-connectconnector-development-guide-check><a href=/36/kafka-connect/connector-development-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36kafka-connectconnector-development-guide><span>Connector Development Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36kafka-connectadministration-li><input type=checkbox id=m-36kafka-connectadministration-check>
<label for=m-36kafka-connectadministration-check><a href=/36/kafka-connect/administration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36kafka-connectadministration><span>Administration</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36streams-li><input type=checkbox id=m-36streams-check>
<label for=m-36streams-check><a href=/36/streams/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36streams><span>Kafka Streams</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsintroduction-li><input type=checkbox id=m-36streamsintroduction-check>
<label for=m-36streamsintroduction-check><a href=/36/streams/introduction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsintroduction><span>Introduction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsquickstart-li><input type=checkbox id=m-36streamsquickstart-check>
<label for=m-36streamsquickstart-check><a href=/36/streams/quickstart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsquickstart><span>Quick Start</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamstutorial-li><input type=checkbox id=m-36streamstutorial-check>
<label for=m-36streamstutorial-check><a href=/36/streams/tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamstutorial><span>Write a streams app</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamscore-concepts-li><input type=checkbox id=m-36streamscore-concepts-check>
<label for=m-36streamscore-concepts-check><a href=/36/streams/core-concepts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamscore-concepts><span>Core Concepts</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsarchitecture-li><input type=checkbox id=m-36streamsarchitecture-check>
<label for=m-36streamsarchitecture-check><a href=/36/streams/architecture/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsarchitecture><span>Architecture</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsupgrade-guide-li><input type=checkbox id=m-36streamsupgrade-guide-check>
<label for=m-36streamsupgrade-guide-check><a href=/36/streams/upgrade-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsupgrade-guide><span>Upgrade Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-36streamsdeveloper-guide-li><input type=checkbox id=m-36streamsdeveloper-guide-check>
<label for=m-36streamsdeveloper-guide-check><a href=/36/streams/developer-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-36streamsdeveloper-guide><span>Streams Developer Guide</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidewrite-streams-app-li><input type=checkbox id=m-36streamsdeveloper-guidewrite-streams-app-check>
<label for=m-36streamsdeveloper-guidewrite-streams-app-check><a href=/36/streams/developer-guide/write-streams-app/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidewrite-streams-app><span>Writing a Streams Application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guideconfig-streams-li><input type=checkbox id=m-36streamsdeveloper-guideconfig-streams-check>
<label for=m-36streamsdeveloper-guideconfig-streams-check><a href=/36/streams/developer-guide/config-streams/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guideconfig-streams><span>Configuring a Streams Application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidedsl-api-li><input type=checkbox id=m-36streamsdeveloper-guidedsl-api-check>
<label for=m-36streamsdeveloper-guidedsl-api-check><a href=/36/streams/developer-guide/dsl-api/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidedsl-api><span>Streams DSL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guideprocessor-api-li><input type=checkbox id=m-36streamsdeveloper-guideprocessor-api-check>
<label for=m-36streamsdeveloper-guideprocessor-api-check><a href=/36/streams/developer-guide/processor-api/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guideprocessor-api><span>Processor API</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidedsl-topology-naming-li><input type=checkbox id=m-36streamsdeveloper-guidedsl-topology-naming-check>
<label for=m-36streamsdeveloper-guidedsl-topology-naming-check><a href=/36/streams/developer-guide/dsl-topology-naming/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidedsl-topology-naming><span>Naming Operators in a Streams DSL application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidedatatypes-li><input type=checkbox id=m-36streamsdeveloper-guidedatatypes-check>
<label for=m-36streamsdeveloper-guidedatatypes-check><a href=/36/streams/developer-guide/datatypes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidedatatypes><span>Data Types and Serialization</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidetesting-li><input type=checkbox id=m-36streamsdeveloper-guidetesting-check>
<label for=m-36streamsdeveloper-guidetesting-check><a href=/36/streams/developer-guide/testing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidetesting><span>Testing a Streams Application</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guideinteractive-queries-li><input type=checkbox id=m-36streamsdeveloper-guideinteractive-queries-check>
<label for=m-36streamsdeveloper-guideinteractive-queries-check><a href=/36/streams/developer-guide/interactive-queries/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guideinteractive-queries><span>Interactive Queries</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidememory-mgmt-li><input type=checkbox id=m-36streamsdeveloper-guidememory-mgmt-check>
<label for=m-36streamsdeveloper-guidememory-mgmt-check><a href=/36/streams/developer-guide/memory-mgmt/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidememory-mgmt><span>Memory Management</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guiderunning-app-li><input type=checkbox id=m-36streamsdeveloper-guiderunning-app-check>
<label for=m-36streamsdeveloper-guiderunning-app-check><a href=/36/streams/developer-guide/running-app/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guiderunning-app><span>Running Streams Applications</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidemanage-topics-li><input type=checkbox id=m-36streamsdeveloper-guidemanage-topics-check>
<label for=m-36streamsdeveloper-guidemanage-topics-check><a href=/36/streams/developer-guide/manage-topics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidemanage-topics><span>Managing Streams Application Topics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guidesecurity-li><input type=checkbox id=m-36streamsdeveloper-guidesecurity-check>
<label for=m-36streamsdeveloper-guidesecurity-check><a href=/36/streams/developer-guide/security/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guidesecurity><span>Streams Security</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-36streamsdeveloper-guideapp-reset-tool-li><input type=checkbox id=m-36streamsdeveloper-guideapp-reset-tool-check>
<label for=m-36streamsdeveloper-guideapp-reset-tool-check><a href=/36/streams/developer-guide/app-reset-tool/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-36streamsdeveloper-guideapp-reset-tool><span>Application Reset Tool</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/hvishwanath/kafka-site-md/tree/main/content/en/36/security/encryption-and-authentication-using-ssl.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/hvishwanath/kafka-site-md/edit/main/content/en/36/security/encryption-and-authentication-using-ssl.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/hvishwanath/kafka-site-md/new/main/content/en/36/security?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/hvishwanath/kafka-site-md/issues/new?title=Encryption%20and%20Authentication%20using%20SSL" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a id=print href=/36/security/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li></li><li><a href=#host-name-verification>Host Name Verification</a></li><li><a href=#ssl-key-and-certificates-in-pem-format>SSL key and certificates in PEM format</a></li></ul></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tag Cloud</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/apis/ data-taxonomy-term=apis><span class=taxonomy-label>Apis</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/configuration/ data-taxonomy-term=configuration><span class=taxonomy-label>Configuration</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/design/ data-taxonomy-term=design><span class=taxonomy-label>Design</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/developer-guide/ data-taxonomy-term=developer-guide><span class=taxonomy-label>Developer-Guide</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/docs/ data-taxonomy-term=docs><span class=taxonomy-label>Docs</span><span class=taxonomy-count>1712</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/getting-started/ data-taxonomy-term=getting-started><span class=taxonomy-label>Getting-Started</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/implementation/ data-taxonomy-term=implementation><span class=taxonomy-label>Implementation</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>Kafka</span><span class=taxonomy-count>1712</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/ops/ data-taxonomy-term=ops><span class=taxonomy-label>Ops</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span><span class=taxonomy-count>62</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/streams/ data-taxonomy-term=streams><span class=taxonomy-label>Streams</span><span class=taxonomy-count>62</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class="pageinfo pageinfo-warning"><p>You are viewing documentation for an older version (3.6) of Kafka.
For up-to-date documentation, see the
<a href=/40/ target=_blank>latest version</a>.</p></div><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/36/>AK 3.6.X</a></li><li class=breadcrumb-item><a href=/36/security/>Security</a></li><li class="breadcrumb-item active" aria-current=page>Encryption and Authentication using SSL</li></ol></nav><div class=td-content><h1>Encryption and Authentication using SSL</h1><div class=lead>Encryption and Authentication using SSL</div><header class=article-meta><div class="taxonomy taxonomy-terms-article taxo-tags"><h5 class=taxonomy-title>Tags:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>Kafka</span></a></li><li><a class=taxonomy-term href=https://example.kafka-site-md.dev/tags/docs/ data-taxonomy-term=docs><span class=taxonomy-label>Docs</span></a></li></ul></div></header><h1 id=encryption-and-authentication-using-ssl>Encryption and Authentication using SSL<a class=td-heading-self-link href=#encryption-and-authentication-using-ssl aria-label="Heading self-link"></a></h1><p>Apache Kafka allows clients to use SSL for encryption of traffic as well as authentication. By default, SSL is disabled but can be turned on if needed. The following paragraphs explain in detail how to set up your own PKI infrastructure, use it to create certificates and configure Kafka to use these.</p><ol><li><h4 id=generate-ssl-key-and-certificate-for-each-kafka-broker>Generate SSL key and certificate for each Kafka broker<a class=td-heading-self-link href=#generate-ssl-key-and-certificate-for-each-kafka-broker aria-label="Heading self-link"></a></h4></li></ol><p>The first step of deploying one or more brokers with SSL support is to generate a public/private keypair for every server. Since Kafka expects all keys and certificates to be stored in keystores we will use Java&rsquo;s keytool command for this task. The tool supports two different keystore formats, the Java specific jks format which has been deprecated by now, as well as PKCS12. PKCS12 is the default format as of Java version 9, to ensure this format is being used regardless of the Java version in use all following commands explicitly specify the PKCS12 format.</p><pre><code>    &gt; keytool -keystore {keystorefile} -alias localhost -validity {validity} -genkey -keyalg RSA -storetype pkcs12
</code></pre><p>You need to specify two parameters in the above command:
1. keystorefile: the keystore file that stores the keys (and later the certificate) for this broker. The keystore file contains the private and public keys of this broker, therefore it needs to be kept safe. Ideally this step is run on the Kafka broker that the key will be used on, as this key should never be transmitted/leave the server that it is intended for.
2. validity: the valid time of the key in days. Please note that this differs from the validity period for the certificate, which will be determined in Signing the certificate. You can use the same key to request multiple certificates: if your key has a validity of 10 years, but your CA will only sign certificates that are valid for one year, you can use the same key with 10 certificates over time.</p><p>To obtain a certificate that can be used with the private key that was just created a certificate signing request needs to be created. This signing request, when signed by a trusted CA results in the actual certificate which can then be installed in the keystore and used for authentication purposes.<br>To generate certificate signing requests run the following command for all server keystores created so far.</p><pre><code>    &gt; keytool -keystore server.keystore.jks -alias localhost -validity {validity} -genkey -keyalg RSA -destkeystoretype pkcs12 -ext SAN=DNS:{FQDN},IP:{IPADDRESS1}
</code></pre><p>This command assumes that you want to add hostname information to the certificate, if this is not the case, you can omit the extension parameter <code>-ext SAN=DNS:{FQDN},IP:{IPADDRESS1}</code>. Please see below for more information on this.</p><h3 id=host-name-verification>Host Name Verification<a class=td-heading-self-link href=#host-name-verification aria-label="Heading self-link"></a></h3><p>Host name verification, when enabled, is the process of checking attributes from the certificate that is presented by the server you are connecting to against the actual hostname or ip address of that server to ensure that you are indeed connecting to the correct server.<br>The main reason for this check is to prevent man-in-the-middle attacks. For Kafka, this check has been disabled by default for a long time, but as of Kafka 2.0.0 host name verification of servers is enabled by default for client connections as well as inter-broker connections.<br>Server host name verification may be disabled by setting <code>ssl.endpoint.identification.algorithm</code> to an empty string.<br>For dynamically configured broker listeners, hostname verification may be disabled using <code>kafka-configs.sh</code>:</p><pre><code>    &gt; bin/kafka-configs.sh --bootstrap-server localhost:9093 --entity-type brokers --entity-name 0 --alter --add-config &quot;listener.name.internal.ssl.endpoint.identification.algorithm=&quot;
</code></pre><p><strong>Note:</strong></p><p>Normally there is no good reason to disable hostname verification apart from being the quickest way to &ldquo;just get it to work&rdquo; followed by the promise to &ldquo;fix it later when there is more time&rdquo;!<br>Getting hostname verification right is not that hard when done at the right time, but gets much harder once the cluster is up and running - do yourself a favor and do it now!</p><p>If host name verification is enabled, clients will verify the server&rsquo;s fully qualified domain name (FQDN) or ip address against one of the following two fields:
1. Common Name (CN)
2. <a href=https://tools.ietf.org/html/rfc5280#section-4.2.1.6>Subject Alternative Name (SAN)</a></p><p>While Kafka checks both fields, usage of the common name field for hostname verification has been <a href=https://tools.ietf.org/html/rfc2818#section-3.1>deprecated</a> since 2000 and should be avoided if possible. In addition the SAN field is much more flexible, allowing for multiple DNS and IP entries to be declared in a certificate.<br>Another advantage is that if the SAN field is used for hostname verification the common name can be set to a more meaningful value for authorization purposes. Since we need the SAN field to be contained in the signed certificate, it will be specified when generating the signing request. It can also be specified when generating the keypair, but this will not automatically be copied into the signing request.<br>To add a SAN field append the following argument <code>-ext SAN=DNS:{FQDN},IP:{IPADDRESS}</code> to the keytool command:</p><pre><code>    &gt; keytool -keystore server.keystore.jks -alias localhost -validity {validity} -genkey -keyalg RSA -destkeystoretype pkcs12 -ext SAN=DNS:{FQDN},IP:{IPADDRESS1}
</code></pre><ol start=2><li><h4 id=creating-your-own-ca>Creating your own CA<a class=td-heading-self-link href=#creating-your-own-ca aria-label="Heading self-link"></a></h4></li></ol><p>After this step each machine in the cluster has a public/private key pair which can already be used to encrypt traffic and a certificate signing request, which is the basis for creating a certificate. To add authentication capabilities this signing request needs to be signed by a trusted authority, which will be created in this step.</p><p>A certificate authority (CA) is responsible for signing certificates. CAs works likes a government that issues passports - the government stamps (signs) each passport so that the passport becomes difficult to forge. Other governments verify the stamps to ensure the passport is authentic. Similarly, the CA signs the certificates, and the cryptography guarantees that a signed certificate is computationally difficult to forge. Thus, as long as the CA is a genuine and trusted authority, the clients have a strong assurance that they are connecting to the authentic machines.</p><p>For this guide we will be our own Certificate Authority. When setting up a production cluster in a corporate environment these certificates would usually be signed by a corporate CA that is trusted throughout the company. Please see Common Pitfalls in Production for some things to consider for this case.</p><p>Due to a <a href=https://www.openssl.org/docs/man1.1.1/man1/x509.html#BUGS>bug</a> in OpenSSL, the x509 module will not copy requested extension fields from CSRs into the final certificate. Since we want the SAN extension to be present in our certificate to enable hostname verification, we&rsquo;ll use the <em>ca</em> module instead. This requires some additional configuration to be in place before we generate our CA keypair.<br>Save the following listing into a file called openssl-ca.cnf and adjust the values for validity and common attributes as necessary.</p><pre><code>    HOME            = .
RANDFILE        = $ENV::HOME/.rnd

####################################################################
[ ca ]
default_ca    = CA_default      # The default ca section

[ CA_default ]

base_dir      = .
certificate   = $base_dir/cacert.pem   # The CA certificate
private_key   = $base_dir/cakey.pem    # The CA private key
new_certs_dir = $base_dir              # Location for new certs after signing
database      = $base_dir/index.txt    # Database index file
serial        = $base_dir/serial.txt   # The current serial number

default_days     = 1000         # How long to certify for
default_crl_days = 30           # How long before next CRL
default_md       = sha256       # Use public key default MD
preserve         = no           # Keep passed DN ordering

x509_extensions = ca_extensions # The extensions to add to the cert

email_in_dn     = no            # Don't concat the email in the DN
copy_extensions = copy          # Required to copy SANs from CSR to cert

####################################################################
[ req ]
default_bits       = 4096
default_keyfile    = cakey.pem
distinguished_name = ca_distinguished_name
x509_extensions    = ca_extensions
string_mask        = utf8only

####################################################################
[ ca_distinguished_name ]
countryName         = Country Name (2 letter code)
countryName_default = DE

stateOrProvinceName         = State or Province Name (full name)
stateOrProvinceName_default = Test Province

localityName                = Locality Name (eg, city)
localityName_default        = Test Town

organizationName            = Organization Name (eg, company)
organizationName_default    = Test Company

organizationalUnitName         = Organizational Unit (eg, division)
organizationalUnitName_default = Test Unit

commonName         = Common Name (e.g. server FQDN or YOUR name)
commonName_default = Test Name

emailAddress         = Email Address
emailAddress_default = test@test.com

####################################################################
[ ca_extensions ]

subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always, issuer
basicConstraints       = critical, CA:true
keyUsage               = keyCertSign, cRLSign

####################################################################
[ signing_policy ]
countryName            = optional
stateOrProvinceName    = optional
localityName           = optional
organizationName       = optional
organizationalUnitName = optional
commonName             = supplied
emailAddress           = optional

####################################################################
[ signing_req ]
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid,issuer
basicConstraints       = CA:FALSE
keyUsage               = digitalSignature, keyEncipherment
</code></pre><p>Then create a database and serial number file, these will be used to keep track of which certificates were signed with this CA. Both of these are simply text files that reside in the same directory as your CA keys.</p><pre><code>    &gt; echo 01 &gt; serial.txt
&gt; touch index.txt
</code></pre><p>With these steps done you are now ready to generate your CA that will be used to sign certificates later.</p><pre><code>    &gt; openssl req -x509 -config openssl-ca.cnf -newkey rsa:4096 -sha256 -nodes -out cacert.pem -outform PEM
</code></pre><p>The CA is simply a public/private key pair and certificate that is signed by itself, and is only intended to sign other certificates.<br>This keypair should be kept very safe, if someone gains access to it, they can create and sign certificates that will be trusted by your infrastructure, which means they will be able to impersonate anybody when connecting to any service that trusts this CA.<br>The next step is to add the generated CA to the <strong>clients&rsquo; truststore</strong> so that the clients can trust this CA:</p><pre><code>    &gt; keytool -keystore client.truststore.jks -alias CARoot -import -file ca-cert
</code></pre><p><strong>Note:</strong> If you configure the Kafka brokers to require client authentication by setting ssl.client.auth to be &ldquo;requested&rdquo; or &ldquo;required&rdquo; in the Kafka brokers config then you must provide a truststore for the Kafka brokers as well and it should have all the CA certificates that clients&rsquo; keys were signed by.</p><pre><code>    &gt; keytool -keystore server.truststore.jks -alias CARoot -import -file ca-cert
</code></pre><p>In contrast to the keystore in step 1 that stores each machine&rsquo;s own identity, the truststore of a client stores all the certificates that the client should trust. Importing a certificate into one&rsquo;s truststore also means trusting all certificates that are signed by that certificate. As the analogy above, trusting the government (CA) also means trusting all passports (certificates) that it has issued. This attribute is called the chain of trust, and it is particularly useful when deploying SSL on a large Kafka cluster. You can sign all certificates in the cluster with a single CA, and have all machines share the same truststore that trusts the CA. That way all machines can authenticate all other machines.
3. #### Signing the certificate</p><p>Then sign it with the CA:</p><pre><code>    &gt; openssl ca -config openssl-ca.cnf -policy signing_policy -extensions signing_req -out {server certificate} -infiles {certificate signing request}
</code></pre><p>Finally, you need to import both the certificate of the CA and the signed certificate into the keystore:</p><pre><code>    &gt; keytool -keystore {keystore} -alias CARoot -import -file {CA certificate}
&gt; keytool -keystore {keystore} -alias localhost -import -file cert-signed
</code></pre><p>The definitions of the parameters are the following:
1. keystore: the location of the keystore
2. CA certificate: the certificate of the CA
3. certificate signing request: the csr created with the server key
4. server certificate: the file to write the signed certificate of the server to
This will leave you with one truststore called <em>truststore.jks</em> - this can be the same for all clients and brokers and does not contain any sensitive information, so there is no need to secure this.<br>Additionally you will have one <em>server.keystore.jks</em> file per node which contains that nodes keys, certificate and your CAs certificate, please refer to Configuring Kafka Brokers and Configuring Kafka Clients for information on how to use these files.</p><p>For some tooling assistance on this topic, please check out the <a href=https://github.com/OpenVPN/easy-rsa>easyRSA</a> project which has extensive scripting in place to help with these steps.</p><h3 id=ssl-key-and-certificates-in-pem-format>SSL key and certificates in PEM format<a class=td-heading-self-link href=#ssl-key-and-certificates-in-pem-format aria-label="Heading self-link"></a></h3><p>From 2.7.0 onwards, SSL key and trust stores can be configured for Kafka brokers and clients directly in the configuration in PEM format. This avoids the need to store separate files on the file system and benefits from password protection features of Kafka configuration. PEM may also be used as the store type for file-based key and trust stores in addition to JKS and PKCS12. To configure PEM key store directly in the broker or client configuration, private key in PEM format should be provided in <code>ssl.keystore.key</code> and the certificate chain in PEM format should be provided in <code>ssl.keystore.certificate.chain</code>. To configure trust store, trust certificates, e.g. public certificate of CA, should be provided in <code>ssl.truststore.certificates</code>. Since PEM is typically stored as multi-line base-64 strings, the configuration value can be included in Kafka configuration as multi-line strings with lines terminating in backslash (&rsquo;') for line continuation.</p><p>Store password configs <code>ssl.keystore.password</code> and <code>ssl.truststore.password</code> are not used for PEM. If private key is encrypted using a password, the key password must be provided in <code>ssl.key.password</code>. Private keys may be provided in unencrypted form without a password. In production deployments, configs should be encrypted or externalized using password protection feature in Kafka in this case. Note that the default SSL engine factory has limited capabilities for decryption of encrypted private keys when external tools like OpenSSL are used for encryption. Third party libraries like BouncyCastle may be integrated with a custom <code>SslEngineFactory</code> to support a wider range of encrypted private keys.</p><ol start=4><li><h4 id=common-pitfalls-in-production>Common Pitfalls in Production<a class=td-heading-self-link href=#common-pitfalls-in-production aria-label="Heading self-link"></a></h4></li></ol><p>The above paragraphs show the process to create your own CA and use it to sign certificates for your cluster. While very useful for sandbox, dev, test, and similar systems, this is usually not the correct process to create certificates for a production cluster in a corporate environment. Enterprises will normally operate their own CA and users can send in CSRs to be signed with this CA, which has the benefit of users not being responsible to keep the CA secure as well as a central authority that everybody can trust. However it also takes away a lot of control over the process of signing certificates from the user. Quite often the persons operating corporate CAs will apply tight restrictions on certificates that can cause issues when trying to use these certificates with Kafka.
1. <strong><a href=https://tools.ietf.org/html/rfc5280#section-4.2.1.12>Extended Key Usage</a></strong><br>Certificates may contain an extension field that controls the purpose for which the certificate can be used. If this field is empty, there are no restrictions on the usage, but if any usage is specified in here, valid SSL implementations have to enforce these usages.<br>Relevant usages for Kafka are:
* Client authentication
* Server authentication
Kafka brokers need both these usages to be allowed, as for intra-cluster communication every broker will behave as both the client and the server towards other brokers. It is not uncommon for corporate CAs to have a signing profile for webservers and use this for Kafka as well, which will only contain the <em>serverAuth</em> usage value and cause the SSL handshake to fail.
2. <strong>Intermediate Certificates</strong><br>Corporate Root CAs are often kept offline for security reasons. To enable day-to-day usage, so called intermediate CAs are created, which are then used to sign the final certificates. When importing a certificate into the keystore that was signed by an intermediate CA it is necessary to provide the entire chain of trust up to the root CA. This can be done by simply <em>cat</em> ing the certificate files into one combined certificate file and then importing this with keytool.
3. <strong>Failure to copy extension fields</strong><br>CA operators are often hesitant to copy and requested extension fields from CSRs and prefer to specify these themselves as this makes it harder for a malicious party to obtain certificates with potentially misleading or fraudulent values. It is advisable to double check signed certificates, whether these contain all requested SAN fields to enable proper hostname verification. The following command can be used to print certificate details to the console, which should be compared with what was originally requested:</p><pre><code>            &gt; openssl x509 -in certificate.crt -text -noout
</code></pre><ol start=5><li><h4 id=configuring-kafka-brokers>Configuring Kafka Brokers<a class=td-heading-self-link href=#configuring-kafka-brokers aria-label="Heading self-link"></a></h4></li></ol><p>If SSL is not enabled for inter-broker communication (see below for how to enable it), both PLAINTEXT and SSL ports will be necessary.</p><pre><code>    listeners=PLAINTEXT://host.name:port,SSL://host.name:port
</code></pre><p>Following SSL configs are needed on the broker side</p><pre><code>    ssl.keystore.location=/var/private/ssl/server.keystore.jks
ssl.keystore.password=test1234
ssl.key.password=test1234
ssl.truststore.location=/var/private/ssl/server.truststore.jks
ssl.truststore.password=test1234
</code></pre><p>Note: ssl.truststore.password is technically optional but highly recommended. If a password is not set access to the truststore is still available, but integrity checking is disabled. Optional settings that are worth considering:
1. ssl.client.auth=none (&ldquo;required&rdquo; => client authentication is required, &ldquo;requested&rdquo; => client authentication is requested and client without certs can still connect. The usage of &ldquo;requested&rdquo; is discouraged as it provides a false sense of security and misconfigured clients will still connect successfully.)
2. ssl.cipher.suites (Optional). A cipher suite is a named combination of authentication, encryption, MAC and key exchange algorithm used to negotiate the security settings for a network connection using TLS or SSL network protocol. (Default is an empty list)
3. ssl.enabled.protocols=TLSv1.2,TLSv1.1,TLSv1 (list out the SSL protocols that you are going to accept from clients. Do note that SSL is deprecated in favor of TLS and using SSL in production is not recommended)
4. ssl.keystore.type=JKS
5. ssl.truststore.type=JKS
6. ssl.secure.random.implementation=SHA1PRNG
If you want to enable SSL for inter-broker communication, add the following to the server.properties file (it defaults to PLAINTEXT)</p><pre><code>    security.inter.broker.protocol=SSL
</code></pre><p>Due to import regulations in some countries, the Oracle implementation limits the strength of cryptographic algorithms available by default. If stronger algorithms are needed (for example, AES with 256-bit keys), the <a href=http://www.oracle.com/technetwork/java/javase/downloads/index.html>JCE Unlimited Strength Jurisdiction Policy Files</a> must be obtained and installed in the JDK/JRE. See the <a href=https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html>JCA Providers Documentation</a> for more information.</p><p>The JRE/JDK will have a default pseudo-random number generator (PRNG) that is used for cryptography operations, so it is not required to configure the implementation used with the <code>ssl.secure.random.implementation</code>. However, there are performance issues with some implementations (notably, the default chosen on Linux systems, <code>NativePRNG</code>, utilizes a global lock). In cases where performance of SSL connections becomes an issue, consider explicitly setting the implementation to be used. The <code>SHA1PRNG</code> implementation is non-blocking, and has shown very good performance characteristics under heavy load (50 MB/sec of produced messages, plus replication traffic, per-broker).</p><p>Once you start the broker you should be able to see in the server.log</p><pre><code>    with addresses: PLAINTEXT -&gt; EndPoint(192.168.64.1,9092,PLAINTEXT),SSL -&gt; EndPoint(192.168.64.1,9093,SSL)
</code></pre><p>To check quickly if the server keystore and truststore are setup properly you can run the following command</p><pre><code>    &gt; openssl s_client -debug -connect localhost:9093 -tls1
</code></pre><p>(Note: TLSv1 should be listed under ssl.enabled.protocols)<br>In the output of this command you should see server&rsquo;s certificate:</p><pre><code>    -----BEGIN CERTIFICATE-----
{variable sized random bytes}
-----END CERTIFICATE-----
subject=/C=US/ST=CA/L=Santa Clara/O=org/OU=org/CN=Sriharsha Chintalapani
issuer=/C=US/ST=CA/L=Santa Clara/O=org/OU=org/CN=kafka/emailAddress=test@test.com
</code></pre><p>If the certificate does not show up or if there are any other error messages then your keystore is not setup properly.
6. #### Configuring Kafka Clients</p><p>SSL is supported only for the new Kafka Producer and Consumer, the older API is not supported. The configs for SSL will be the same for both producer and consumer.<br>If client authentication is not required in the broker, then the following is a minimal configuration example:</p><pre><code>    security.protocol=SSL
ssl.truststore.location=/var/private/ssl/client.truststore.jks
ssl.truststore.password=test1234
</code></pre><p>Note: ssl.truststore.password is technically optional but highly recommended. If a password is not set access to the truststore is still available, but integrity checking is disabled. If client authentication is required, then a keystore must be created like in step 1 and the following must also be configured:</p><pre><code>    ssl.keystore.location=/var/private/ssl/client.keystore.jks
ssl.keystore.password=test1234
ssl.key.password=test1234
</code></pre><p>Other configuration settings that may also be needed depending on our requirements and the broker configuration:
1. ssl.provider (Optional). The name of the security provider used for SSL connections. Default value is the default security provider of the JVM.
2. ssl.cipher.suites (Optional). A cipher suite is a named combination of authentication, encryption, MAC and key exchange algorithm used to negotiate the security settings for a network connection using TLS or SSL network protocol.
3. ssl.enabled.protocols=TLSv1.2,TLSv1.1,TLSv1. It should list at least one of the protocols configured on the broker side
4. ssl.truststore.type=JKS
5. ssl.keystore.type=JKS</p><p>Examples using console-producer and console-consumer:</p><pre><code>    &gt; kafka-console-producer.sh --bootstrap-server localhost:9093 --topic test --producer.config client-ssl.properties
&gt; kafka-console-consumer.sh --bootstrap-server localhost:9093 --topic test --consumer.config client-ssl.properties
</code></pre><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","page_helpful",{event_category:"Helpful",event_label:window.location.pathname,value:e})};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(100)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class=td-page-meta__lastmod>Last modified January 3, 2025: <a href=https://github.com/hvishwanath/kafka-site-md/commit/b4639af2bf30cedb703fa2d7d054cf6ded963ae7>Documentation for all releases generated by ak2md automation (b4639af2)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=Contact aria-label=Contact><a target=_blank rel=noopener href=/community/contact/ aria-label=Contact><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/apachekafka aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/apache-kafka aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/apache/kafka aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=mailto:dev@kafka.apache.org aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2014&ndash;2025
<span class=td-footer__authors>By <a href=https://www.apache.org/>Apache Software Foundation</a> under the terms of the <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache License v2</a></span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://privacy.apache.org/policies/privacy-policy-public.html target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/js/main.min.dc2c0119076a0df855e55a8044ce0de74b7b9033c20e853e22d7ec7e9bdde965.js integrity="sha256-3CwBGQdqDfhV5VqARM4N50t7kDPCDoU+Itfsfpvd6WU=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>