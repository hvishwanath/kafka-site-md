<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>KafkaShareConsumer (kafka 3.9.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.kafka.clients.consumer, class: KafkaShareConsumer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.kafka.clients.consumer</a></div>
<h1 title="Class KafkaShareConsumer" class="title">Class KafkaShareConsumer&lt;K,<wbr>V&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.kafka.clients.consumer.KafkaShareConsumer&lt;K,<wbr>V&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code>, <code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;K,<wbr>V&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations"><a href="../../common/annotation/InterfaceStability.Evolving.html" title="annotation interface in org.apache.kafka.common.annotation">@Evolving</a>
</span><span class="modifiers">public class </span><span class="element-name type-name-label">KafkaShareConsumer&lt;K,<wbr>V&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;K,<wbr>V&gt;</span></div>
<div class="block">A client that consumes records from a Kafka cluster using a share group.
 <p>
     <em>This is an early access feature under development which is introduced by KIP-932.
     It is not suitable for production use until it is fully implemented and released.</em>

 <h3>Cross-Version Compatibility</h3>
 This client can communicate with brokers that are a version that supports share groups. You will receive an
 <a href="../../common/errors/UnsupportedVersionException.html" title="class in org.apache.kafka.common.errors"><code>UnsupportedVersionException</code></a> when invoking an API that is not
 available on the running broker version.

 <h3><a name="sharegroups">Share Groups and Topic Subscriptions</a></h3>
 Kafka uses the concept of <i>share groups</i> to allow a pool of consumers to cooperate on the work of
 consuming and processing records. All consumer instances sharing the same <code>group.id</code> will be part of
 the same share group.
 <p>
 Each consumer in a group can dynamically set the list of topics it wants to subscribe to using the
 <a href="#subscribe(java.util.Collection)"><code>subscribe(Collection)</code></a> method. Kafka will deliver each message in the subscribed topics to one
 consumer in the share group. Unlike consumer groups, share groups balance the partitions between all
 members of the share group permitting multiple consumers to consume from the same partitions. This gives
 more flexible sharing of records than a consumer group, at the expense of record ordering.
 <p>
 Membership in a share group is maintained dynamically: if a consumer fails, the partitions assigned to
 it will be reassigned to other consumers in the same group. Similarly, if a new consumer joins the group,
 the partition assignment is re-evaluated and partitions can be moved from existing consumers to the new one.
 This is known as <i>rebalancing</i> the group and is discussed in more detail <a href="#failures">below</a>.
 Group rebalancing is also used when new partitions are added to one of the subscribed topics. The group will
 automatically detect the new partitions through periodic metadata refreshes and assign them to the members of the group.
 <p>
 Conceptually, you can think of a share group as a single logical subscriber made up of multiple consumers.
 In fact, in other messaging systems, a share group is roughly equivalent to a <em>durable shared subscription</em>.
 You can have multiple share groups and consumer groups independently consuming from the same topics.

 <h3><a name="failures">Detecting Consumer Failures</a></h3>
 After subscribing to a set of topics, the consumer will automatically join the group when <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> is
 invoked. This method is designed to ensure consumer liveness. As long as you continue to call poll, the consumer
 will stay in the group and continue to receive records from the partitions it was assigned. Under the covers,
 the consumer sends periodic heartbeats to the broker. If the consumer crashes or is unable to send heartbeats for
 the duration of the share group's session time-out, then the consumer will be considered dead and its partitions
 will be reassigned.
 <p>
 It is also possible that the consumer could encounter a "livelock" situation where it is continuing to send heartbeats
 in the background, but no progress is being made. To prevent the consumer from holding onto its partitions
 indefinitely in this case, we provide a liveness detection mechanism using the <code>max.poll.interval.ms</code> setting.
 If you don't call poll at least as frequently as this, the client will proactively leave the share group.
 So to stay in the group, you must continue to call poll.

 <h3>Record Delivery and Acknowledgement</h3>
 When a consumer in a share-group fetches records using <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a>, it receives available records from any
 of the topic-partitions that match its subscriptions. Records are acquired for delivery to this consumer with a
 time-limited acquisition lock. While a record is acquired, it is not available for another consumer. By default,
 the lock duration is 30 seconds, but it can also be controlled using the group <code>group.share.record.lock.duration.ms</code>
 configuration parameter. The idea is that the lock is automatically released once the lock duration has elapsed, and
 then the record is available to be given to another consumer. The consumer which holds the lock can deal with it in
 the following ways:
 <ul>
     <li>The consumer can acknowledge successful processing of the record</li>
     <li>The consumer can release the record, which makes the record available for another delivery attempt</li>
     <li>The consumer can reject the record, which indicates that the record is unprocessable and does not make
     the record available for another delivery attempt</li>
     <li>The consumer can do nothing, in which case the lock is automatically released when the lock duration has elapsed</li>
 </ul>
 The cluster limits the number of records acquired for consumers for each topic-partition in a share group. Once the limit
 is reached, fetching records will temporarily yield no further records until the number of acquired records reduces,
 as naturally happens when the locks time out. This limit is controlled by the broker configuration property
 <code>group.share.record.lock.partition.limit</code>. By limiting the duration of the acquisition lock and automatically
 releasing the locks, the broker ensures delivery progresses even in the presence of consumer failures.
 <p>
 The consumer can choose to use implicit or explicit acknowledgement of the records it processes.
 <p>If the application calls <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a> for any record in the batch,
 it is using <em>explicit acknowledgement</em>. In this case:
 <ul>
     <li>The application calls <a href="#commitSync()"><code>commitSync()</code></a> or <a href="#commitAsync()"><code>commitAsync()</code></a> which commits the acknowledgements to Kafka.
     If any records in the batch were not acknowledged, they remain acquired and will be presented to the application
     in response to a future poll.</li>
     <li>The application calls <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> without committing first, which commits the acknowledgements to
     Kafka asynchronously. In this case, no exception is thrown by a failure to commit the acknowledgement.
     If any records in the batch were not acknowledged, they remain acquired and will be presented to the application
     in response to a future poll.</li>
     <li>The application calls <a href="#close()"><code>close()</code></a> which attempts to commit any pending acknowledgements and
     releases any remaining acquired records.</li>
 </ul>
 If the application does not call <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a> for any record in the batch,
 it is using <em>implicit acknowledgement</em>. In this case:
 <ul>
     <li>The application calls <a href="#commitSync()"><code>commitSync()</code></a> or <a href="#commitAsync()"><code>commitAsync()</code></a> which implicitly acknowledges all of
     the delivered records as processed successfully and commits the acknowledgements to Kafka.</li>
     <li>The application calls <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> without committing, which also implicitly acknowledges all of
     the delivered records and commits the acknowledgements to Kafka asynchronously. In this case, no exception is
     thrown by a failure to commit the acknowledgements.</li>
     <li>The application calls <a href="#close()"><code>close()</code></a>  which releases any acquired records without acknowledgement.</li>
 </ul>
 <p>
 The consumer guarantees that the records returned in the <code>ConsumerRecords</code> object for a specific topic-partition
 are in order of increasing offset. For each topic-partition, Kafka guarantees that acknowledgements for the records
 in a batch are performed atomically. This makes error handling significantly more straightforward because there can be
 one error code per partition.

 <h3>Usage Examples</h3>
 The share consumer APIs offer flexibility to cover a variety of consumption use cases. Here are some examples to
 demonstrate how to use them.

 <h4>Acknowledging a batch of records (implicit acknowledgement)</h4>
 This example demonstrates implicit acknowledgement using <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> to acknowledge the records which
 were delivered in the previous poll. All the records delivered are implicitly marked as successfully consumed and
 acknowledged synchronously with Kafka as the consumer fetches more records.
 <pre>
     Properties props = new Properties();
     props.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);
     props.setProperty(&quot;group.id&quot;, &quot;test&quot;);
     props.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     props.setProperty(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     KafkaShareConsumer&lt;String, String&gt; consumer = new KafkaShareConsumer&lt;&gt;(props);
     consumer.subscribe(Arrays.asList(&quot;foo&quot;));
     while (true) {
         ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));
         for (ConsumerRecord&lt;String, String&gt; record : records) {
             System.out.printf(&quot;offset = %d, key = %s, value = %s%n&quot;, record.offset(), record.key(), record.value());
             doProcessing(record);
         }
     }
 </pre>

 Alternatively, you can use <a href="#commitSync()"><code>commitSync()</code></a> or <a href="#commitAsync()"><code>commitAsync()</code></a> to commit the acknowledgements, but this is
 slightly less efficient because there is an additional request sent to Kafka.
 <pre>
     Properties props = new Properties();
     props.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);
     props.setProperty(&quot;group.id&quot;, &quot;test&quot;);
     props.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     props.setProperty(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     KafkaShareConsumer&lt;String, String&gt; consumer = new KafkaShareConsumer&lt;&gt;(props);
     consumer.subscribe(Arrays.asList(&quot;foo&quot;));
     while (true) {
         ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));
         for (ConsumerRecord&lt;String, String&gt; record : records) {
             System.out.printf(&quot;offset = %d, key = %s, value = %s%n&quot;, record.offset(), record.key(), record.value());
             doProcessing(record);
         }
         consumer.commitSync();
     }
 </pre>

 <h4>Per-record acknowledgement (explicit acknowledgement)</h4>
 This example demonstrates using different acknowledgement types depending on the outcome of processing the records.
 <pre>
     Properties props = new Properties();
     props.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);
     props.setProperty(&quot;group.id&quot;, &quot;test&quot;);
     props.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     props.setProperty(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     KafkaShareConsumer&lt;String, String&gt; consumer = new KafkaShareConsumer&lt;&gt;(props);
     consumer.subscribe(Arrays.asList(&quot;foo&quot;));
     while (true) {
         ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));
         for (ConsumerRecord&lt;String, String&gt; record : records) {
             try {
                 doProcessing(record);
                 consumer.acknowledge(record, AcknowledgeType.ACCEPT);
             } catch (Exception e) {
                 consumer.acknowledge(record, AcknowledgeType.REJECT);
             }
         }
         consumer.commitSync();
     }
 </pre>

 Each record processed is separately acknowledged using a call to <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a>.
 The <a href="AcknowledgeType.html" title="enum class in org.apache.kafka.clients.consumer"><code>AcknowledgeType</code></a> argument indicates whether the record was processed successfully or not. In this case,
 the bad records are rejected meaning that they’re not eligible for further delivery attempts. For a permanent error
 such as a semantic error, this is appropriate. For a transient error which might not affect a subsequent processing
 attempt, <a href="AcknowledgeType.html#RELEASE"><code>AcknowledgeType.RELEASE</code></a> is more appropriate because the record remains eligible for further delivery attempts.
 <p>
 The calls to <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a> are simply updating local information in the consumer.
 It is only once <a href="#commitSync()"><code>commitSync()</code></a> is called that the acknowledgements are committed by sending the new state
 information to Kafka.

 <h4>Per-record acknowledgement, ending processing of the batch on an error (explicit acknowledgement)</h4>
 This example demonstrates ending processing of a batch of records on the first error.
 <pre>
     Properties props = new Properties();
     props.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);
     props.setProperty(&quot;group.id&quot;, &quot;test&quot;);
     props.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     props.setProperty(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
     KafkaShareConsumer&lt;String, String&gt; consumer = new KafkaShareConsumer&lt;&gt;(props);
     consumer.subscribe(Arrays.asList(&quot;foo&quot;));
     while (true) {
         ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));
         for (ConsumerRecord&lt;String, String&gt; record : records) {
             try {
                 doProcessing(record);
                 consumer.acknowledge(record, AcknowledgeType.ACCEPT);
             } catch (Exception e) {
                 consumer.acknowledge(record, AcknowledgeType.REJECT);
                 break;
             }
         }
         consumer.commitSync();
     }
 </pre>
 There are the following cases in this example:
 <ol>
     <li>The batch contains no records, in which case the application just polls again. The call to <a href="#commitSync()"><code>commitSync()</code></a>
     just does nothing because the batch was empty.</li>
     <li>All of the records in the batch are processed successfully. The calls to <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a>
     specifying <code>AcknowledgeType.ACCEPT</code> mark all records in the batch as successfully processed.</li>
     <li>One of the records encounters an exception. The call to <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a> specifying
     <code>AcknowledgeType.REJECT</code> rejects that record. Earlier records in the batch have already been marked as successfully
     processed. The call to <a href="#commitSync()"><code>commitSync()</code></a> commits the acknowledgements, but the records after the failed record
     remain acquired as part of the same delivery attempt and will be presented to the application in response to another poll.</li>
 </ol>

 <h3>Reading Transactional Records</h3>
 The way that share groups handle transactional records is controlled by the <code>group.share.isolation.level</code></code>
 configuration property. In a share group, the isolation level applies to the entire share group, not just individual
 consumers.
 <p>
 In <code>read_uncommitted</code> isolation level, the share group consumes all non-transactional and transactional
 records. The consumption is bounded by the high-water mark.
 <p>
 In <code>read_committed</code> isolation level (not yet supported), the share group only consumes non-transactional
 records and committed transactional records. The set of records which are eligible to become in-flight records are
 non-transactional records and committed transactional records only. The consumption is bounded by the last stable
 offset, so an open transaction blocks the progress of the share group with read_committed isolation level.

 <h3><a name="multithreaded">Multithreaded Processing</a></h3>
 The consumer is NOT thread-safe. It is the responsibility of the user to ensure that multithreaded access
 is properly synchronized. Unsynchronized access will result in <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ConcurrentModificationException.html" title="class or interface in java.util" class="external-link"><code>ConcurrentModificationException</code></a>.
 <p>
 The only exception to this rule is <a href="#wakeup()"><code>wakeup()</code></a> which can safely be used from an external thread to
 interrupt an active operation. In this case, a <a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors"><code>WakeupException</code></a> will be
 thrown from the thread blocking on the operation. This can be used to shut down the consumer from another thread.
 The following snippet shows the typical pattern:

 <pre>
 public class KafkaShareConsumerRunner implements Runnable {
     private final AtomicBoolean closed = new AtomicBoolean(false);
     private final KafkaShareConsumer consumer;

     public KafkaShareConsumerRunner(KafkaShareConsumer consumer) {
       this.consumer = consumer;
     }

     @Override
     public void run() {
         try {
             consumer.subscribe(Arrays.asList("topic"));
             while (!closed.get()) {
                 ConsumerRecords records = consumer.poll(Duration.ofMillis(10000));
                 // Handle new records
             }
         } catch (WakeupException e) {
             // Ignore exception if closing
             if (!closed.get()) throw e;
         } finally {
             consumer.close();
         }
     }

     // Shutdown hook which can be called from a separate thread
     public void shutdown() {
         closed.set(true);
         consumer.wakeup();
     }
 }
 </pre>

 Then in a separate thread, the consumer can be shutdown by setting the closed flag and waking up the consumer.
 <pre>
     closed.set(true);
     consumer.wakeup();
 </pre>

 <p>
 Note that while it is possible to use thread interrupts instead of <a href="#wakeup()"><code>wakeup()</code></a> to abort a blocking operation
 (in which case, <a href="../../common/errors/InterruptException.html" title="class in org.apache.kafka.common.errors"><code>InterruptException</code></a> will be raised), we discourage their use since they may cause a clean
 shutdown of the consumer to be aborted. Interrupts are mainly supported for those cases where using <a href="#wakeup()"><code>wakeup()</code></a>
 is impossible, such as when a consumer thread is managed by code that is unaware of the Kafka client.
 <p>
 We have intentionally avoided implementing a particular threading model for processing. Various options for
 multithreaded processing are possible, of which the most straightforward is to dedicate a thread to each consumer.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.util.Map)" class="member-name-link">KafkaShareConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;configs)</code></div>
<div class="col-last even-row-color">
<div class="block">A consumer is instantiated by providing a set of key-value pairs as configuration.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.util.Map,org.apache.kafka.common.serialization.Deserializer,org.apache.kafka.common.serialization.Deserializer)" class="member-name-link">KafkaShareConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;configs,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>&gt;&nbsp;keyDeserializer,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;valueDeserializer)</code></div>
<div class="col-last odd-row-color">
<div class="block">A consumer is instantiated by providing a set of key-value pairs as configuration, and a key and a value <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.util.Properties)" class="member-name-link">KafkaShareConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;properties)</code></div>
<div class="col-last even-row-color">
<div class="block">A consumer is instantiated by providing a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link"><code>Properties</code></a> object as configuration.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.util.Properties,org.apache.kafka.common.serialization.Deserializer,org.apache.kafka.common.serialization.Deserializer)" class="member-name-link">KafkaShareConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;properties,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>&gt;&nbsp;keyDeserializer,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;valueDeserializer)</code></div>
<div class="col-last odd-row-color">
<div class="block">A consumer is instantiated by providing a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link"><code>Properties</code></a> object as configuration, and a
 key and a value <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.kafka.clients.consumer.ConsumerConfig,org.apache.kafka.common.serialization.Deserializer,org.apache.kafka.common.serialization.Deserializer)" class="member-name-link">KafkaShareConsumer</a><wbr>(<a href="ConsumerConfig.html" title="class in org.apache.kafka.clients.consumer">ConsumerConfig</a>&nbsp;config,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>&gt;&nbsp;keyDeserializer,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;valueDeserializer)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord)" class="member-name-link">acknowledge</a><wbr>(<a href="ConsumerRecord.html" title="class in org.apache.kafka.clients.consumer">ConsumerRecord</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;record)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Acknowledge successful delivery of a record returned on the last <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> call.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)" class="member-name-link">acknowledge</a><wbr>(<a href="ConsumerRecord.html" title="class in org.apache.kafka.clients.consumer">ConsumerRecord</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;record,
 <a href="AcknowledgeType.html" title="enum class in org.apache.kafka.clients.consumer">AcknowledgeType</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Acknowledge delivery of a record returned on the last <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> call indicating whether
 it was processed successfully.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../common/Uuid.html" title="class in org.apache.kafka.common">Uuid</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clientInstanceId(java.time.Duration)" class="member-name-link">clientInstanceId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines the client's unique client instance ID used for telemetry.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Close the consumer, waiting for up to the default timeout of 30 seconds for any needed cleanup.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close(java.time.Duration)" class="member-name-link">close</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tries to close the consumer cleanly within the specified timeout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commitAsync()" class="member-name-link">commitAsync</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commit the acknowledgements for the records returned.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../common/TopicIdPartition.html" title="class in org.apache.kafka.common">TopicIdPartition</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commitSync()" class="member-name-link">commitSync</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commit the acknowledgements for the records returned.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../common/TopicIdPartition.html" title="class in org.apache.kafka.common">TopicIdPartition</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commitSync(java.time.Duration)" class="member-name-link">commitSync</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commit the acknowledgements for the records returned.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../common/MetricName.html" title="class in org.apache.kafka.common">MetricName</a>,<wbr>? extends <a href="../../common/Metric.html" title="interface in org.apache.kafka.common">Metric</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#metrics()" class="member-name-link">metrics</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the metrics kept by the consumer</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ConsumerRecords.html" title="class in org.apache.kafka.clients.consumer">ConsumerRecords</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#poll(java.time.Duration)" class="member-name-link">poll</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fetch data for the topics specified using <a href="#subscribe(java.util.Collection)"><code>subscribe(Collection)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAcknowledgementCommitCallback(org.apache.kafka.clients.consumer.AcknowledgementCommitCallback)" class="member-name-link">setAcknowledgementCommitCallback</a><wbr>(<a href="AcknowledgementCommitCallback.html" title="interface in org.apache.kafka.clients.consumer">AcknowledgementCommitCallback</a>&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the acknowledgement commit callback which can be used to handle acknowledgement completion.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(java.util.Collection)" class="member-name-link">subscribe</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;topics)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to the given list of topics to get dynamically assigned partitions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscription()" class="member-name-link">subscription</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the current subscription.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unsubscribe()" class="member-name-link">unsubscribe</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Unsubscribe from topics currently subscribed with <a href="#subscribe(java.util.Collection)"><code>subscribe(Collection)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#wakeup()" class="member-name-link">wakeup</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wake up the consumer.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.util.Map)">
<h3>KafkaShareConsumer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">KafkaShareConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;configs)</span></div>
<div class="block">A consumer is instantiated by providing a set of key-value pairs as configuration. Valid configuration strings
 are documented <a href="http://kafka.apache.org/documentation.html#consumerconfigs">here</a>. Values can be
 either strings or objects of the appropriate type (for example a numeric configuration would accept either the
 string "42" or the integer 42).
 <p>
 Valid configuration strings are documented at <a href="ConsumerConfig.html" title="class in org.apache.kafka.clients.consumer"><code>ConsumerConfig</code></a>.
 <p>
 Note: after creating a <code>KafkaShareConsumer</code> you must always <a href="#close()"><code>close()</code></a> it to avoid resource leaks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>configs</code> - The consumer configs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.util.Properties)">
<h3>KafkaShareConsumer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">KafkaShareConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;properties)</span></div>
<div class="block">A consumer is instantiated by providing a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link"><code>Properties</code></a> object as configuration.
 <p>
 Valid configuration strings are documented at <a href="ConsumerConfig.html" title="class in org.apache.kafka.clients.consumer"><code>ConsumerConfig</code></a>.
 <p>
 Note: after creating a <code>KafkaShareConsumer</code> you must always <a href="#close()"><code>close()</code></a> it to avoid resource leaks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>properties</code> - The consumer configuration properties</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.util.Properties,org.apache.kafka.common.serialization.Deserializer,org.apache.kafka.common.serialization.Deserializer)">
<h3>KafkaShareConsumer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">KafkaShareConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;properties,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>&gt;&nbsp;keyDeserializer,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;valueDeserializer)</span></div>
<div class="block">A consumer is instantiated by providing a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link"><code>Properties</code></a> object as configuration, and a
 key and a value <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>.
 <p>
 Valid configuration strings are documented at <a href="ConsumerConfig.html" title="class in org.apache.kafka.clients.consumer"><code>ConsumerConfig</code></a>.
 <p>
 Note: after creating a <code>KafkaShareConsumer</code> you must always <a href="#close()"><code>close()</code></a> it to avoid resource leaks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>properties</code> - The consumer configuration properties</dd>
<dd><code>keyDeserializer</code> - The deserializer for key that implements <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>. The configure() method
            won't be called in the consumer when the deserializer is passed in directly.</dd>
<dd><code>valueDeserializer</code> - The deserializer for value that implements <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>. The configure() method
            won't be called in the consumer when the deserializer is passed in directly.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.util.Map,org.apache.kafka.common.serialization.Deserializer,org.apache.kafka.common.serialization.Deserializer)">
<h3>KafkaShareConsumer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">KafkaShareConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;configs,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>&gt;&nbsp;keyDeserializer,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;valueDeserializer)</span></div>
<div class="block">A consumer is instantiated by providing a set of key-value pairs as configuration, and a key and a value <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>.
 <p>
 Valid configuration strings are documented at <a href="ConsumerConfig.html" title="class in org.apache.kafka.clients.consumer"><code>ConsumerConfig</code></a>.
 <p>
 Note: after creating a <code>KafkaShareConsumer</code> you must always <a href="#close()"><code>close()</code></a> it to avoid resource leaks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>configs</code> - The consumer configs</dd>
<dd><code>keyDeserializer</code> - The deserializer for key that implements <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>. The configure() method
            won't be called in the consumer when the deserializer is passed in directly.</dd>
<dd><code>valueDeserializer</code> - The deserializer for value that implements <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization"><code>Deserializer</code></a>. The configure() method
            won't be called in the consumer when the deserializer is passed in directly.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.kafka.clients.consumer.ConsumerConfig,org.apache.kafka.common.serialization.Deserializer,org.apache.kafka.common.serialization.Deserializer)">
<h3>KafkaShareConsumer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">KafkaShareConsumer</span><wbr><span class="parameters">(<a href="ConsumerConfig.html" title="class in org.apache.kafka.clients.consumer">ConsumerConfig</a>&nbsp;config,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>&gt;&nbsp;keyDeserializer,
 <a href="../../common/serialization/Deserializer.html" title="interface in org.apache.kafka.common.serialization">Deserializer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;valueDeserializer)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="subscription()">
<h3>subscription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">subscription</span>()</div>
<div class="block">Get the current subscription. Will return the same topics used in the most recent call to
 <a href="#subscribe(java.util.Collection)"><code>subscribe(Collection)</code></a>, or an empty set if no such call has been made.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#subscription()">subscription</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>The set of topics currently subscribed to</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#subscription()"><code>subscription()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(java.util.Collection)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;topics)</span></div>
<div class="block">Subscribe to the given list of topics to get dynamically assigned partitions.
 <b>Topic subscriptions are not incremental. This list will replace the current
 assignment, if there is one.</b> If the given list of topics is empty, it is treated the same as <a href="#unsubscribe()"><code>unsubscribe()</code></a>.

 <p>
 As part of group management, the coordinator will keep track of the list of consumers that belong to a particular
 group and will trigger a rebalance operation if any one of the following events are triggered:
 <ul>
 <li>A member joins or leaves the share group
 <li>An existing member of the share group is shut down or fails
 <li>The number of partitions changes for any of the subscribed topics
 <li>A subscribed topic is created or deleted
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#subscribe(java.util.Collection)">subscribe</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>topics</code> - The list of topics to subscribe to</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if topics is null or contains null or empty elements</dd>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other unrecoverable errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#subscribe(java.util.Collection)"><code>subscribe(Collection)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unsubscribe()">
<h3>unsubscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">unsubscribe</span>()</div>
<div class="block">Unsubscribe from topics currently subscribed with <a href="#subscribe(java.util.Collection)"><code>subscribe(Collection)</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#unsubscribe()">unsubscribe</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other unrecoverable errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#unsubscribe()"><code>unsubscribe()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="poll(java.time.Duration)">
<h3>poll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ConsumerRecords.html" title="class in org.apache.kafka.clients.consumer">ConsumerRecords</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</span>&nbsp;<span class="element-name">poll</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</span></div>
<div class="block">Fetch data for the topics specified using <a href="#subscribe(java.util.Collection)"><code>subscribe(Collection)</code></a>. It is an error to not have
 subscribed to any topics before polling for data.

 <p>
 This method returns immediately if there are records available. Otherwise, it will await the passed timeout.
 If the timeout expires, an empty record set will be returned.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#poll(java.time.Duration)">poll</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>timeout</code> - The maximum time to block (must not be greater than <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#MAX_VALUE" title="class or interface in java.lang" class="external-link"><code>Long.MAX_VALUE</code></a> milliseconds)</dd>
<dt>Returns:</dt>
<dd>map of topic to records since the last fetch for the subscribed list of topics</dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/errors/AuthenticationException.html" title="class in org.apache.kafka.common.errors">AuthenticationException</a></code> - if authentication fails. See the exception for more details</dd>
<dd><code><a href="../../common/errors/AuthorizationException.html" title="class in org.apache.kafka.common.errors">AuthorizationException</a></code> - if caller lacks Read access to any of the subscribed
             topics or to the share group. See the exception for more details</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the timeout value is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the consumer is not subscribed to any topics</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ArithmeticException.html" title="class or interface in java.lang" class="external-link">ArithmeticException</a></code> - if the timeout is greater than <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#MAX_VALUE" title="class or interface in java.lang" class="external-link"><code>Long.MAX_VALUE</code></a> milliseconds.</dd>
<dd><code><a href="../../common/errors/InvalidTopicException.html" title="class in org.apache.kafka.common.errors">InvalidTopicException</a></code> - if the current subscription contains any invalid
             topic (per <code>Topic.validate(String)</code>)</dd>
<dd><code><a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors">WakeupException</a></code> - if <a href="#wakeup()"><code>wakeup()</code></a> is called before or while this method is called</dd>
<dd><code><a href="../../common/errors/InterruptException.html" title="class in org.apache.kafka.common.errors">InterruptException</a></code> - if the calling thread is interrupted before or while this method is called</dd>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other unrecoverable errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord)">
<h3>acknowledge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">acknowledge</span><wbr><span class="parameters">(<a href="ConsumerRecord.html" title="class in org.apache.kafka.clients.consumer">ConsumerRecord</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;record)</span></div>
<div class="block">Acknowledge successful delivery of a record returned on the last <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> call.
 The acknowledgement is committed on the next <a href="#commitSync()"><code>commitSync()</code></a>, <a href="#commitAsync()"><code>commitAsync()</code></a> or
 <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> call.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord)">acknowledge</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>record</code> - The record to acknowledge</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the record is not waiting to be acknowledged, or the consumer has already
                               used implicit acknowledgement</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord)"><code>acknowledge(ConsumerRecord)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)">
<h3>acknowledge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">acknowledge</span><wbr><span class="parameters">(<a href="ConsumerRecord.html" title="class in org.apache.kafka.clients.consumer">ConsumerRecord</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;&nbsp;record,
 <a href="AcknowledgeType.html" title="enum class in org.apache.kafka.clients.consumer">AcknowledgeType</a>&nbsp;type)</span></div>
<div class="block">Acknowledge delivery of a record returned on the last <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> call indicating whether
 it was processed successfully. The acknowledgement is committed on the next <a href="#commitSync()"><code>commitSync()</code></a>,
 <a href="#commitAsync()"><code>commitAsync()</code></a> or <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> call. By using this method, the consumer is using
 <b>explicit acknowledgement</b>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)">acknowledge</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>record</code> - The record to acknowledge</dd>
<dd><code>type</code> - The acknowledgement type which indicates whether it was processed successfully</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the record is not waiting to be acknowledged, or the consumer has already
                               used implicit acknowledgement</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commitSync()">
<h3>commitSync</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../common/TopicIdPartition.html" title="class in org.apache.kafka.common">TopicIdPartition</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a>&gt;&gt;</span>&nbsp;<span class="element-name">commitSync</span>()</div>
<div class="block">Commit the acknowledgements for the records returned. If the consumer is using explicit acknowledgement,
 the acknowledgements to commit have been indicated using <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord)"><code>acknowledge(ConsumerRecord)</code></a> or
 <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a>. If the consumer is using implicit acknowledgement,
 all the records returned by the latest call to <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> are acknowledged.

 <p>
 This is a synchronous commit and will block until either the commit succeeds, an unrecoverable error is
 encountered (in which case it is thrown to the caller), or the timeout specified by <code>default.api.timeout.ms</code>
 expires.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#commitSync()">commitSync</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>A map of the results for each topic-partition for which delivery was acknowledged.
         If the acknowledgement failed for a topic-partition, an exception is present.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors">WakeupException</a></code> - if <a href="#wakeup()"><code>wakeup()</code></a> is called before or while this method is called</dd>
<dd><code><a href="../../common/errors/InterruptException.html" title="class in org.apache.kafka.common.errors">InterruptException</a></code> - if the thread is interrupted while blocked</dd>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other unrecoverable errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#commitSync()"><code>commitSync()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commitSync(java.time.Duration)">
<h3>commitSync</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../common/TopicIdPartition.html" title="class in org.apache.kafka.common">TopicIdPartition</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a>&gt;&gt;</span>&nbsp;<span class="element-name">commitSync</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</span></div>
<div class="block">Commit the acknowledgements for the records returned. If the consumer is using explicit acknowledgement,
 the acknowledgements to commit have been indicated using <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord)"><code>acknowledge(ConsumerRecord)</code></a> or
 <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a>. If the consumer is using implicit acknowledgement,
 all the records returned by the latest call to <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> are acknowledged.

 <p>
 This is a synchronous commit and will block until either the commit succeeds, an unrecoverable error is
 encountered (in which case it is thrown to the caller), or the timeout expires.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#commitSync(java.time.Duration)">commitSync</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>timeout</code> - The maximum amount of time to await completion of the acknowledgement</dd>
<dt>Returns:</dt>
<dd>A map of the results for each topic-partition for which delivery was acknowledged.
         If the acknowledgement failed for a topic-partition, an exception is present.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the <code>timeout</code> is negative</dd>
<dd><code><a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors">WakeupException</a></code> - if <a href="#wakeup()"><code>wakeup()</code></a> is called before or while this method is called</dd>
<dd><code><a href="../../common/errors/InterruptException.html" title="class in org.apache.kafka.common.errors">InterruptException</a></code> - if the thread is interrupted while blocked</dd>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other unrecoverable errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#commitSync(java.time.Duration)"><code>commitSync(Duration)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commitAsync()">
<h3>commitAsync</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">commitAsync</span>()</div>
<div class="block">Commit the acknowledgements for the records returned. If the consumer is using explicit acknowledgement,
 the acknowledgements to commit have been indicated using <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord)"><code>acknowledge(ConsumerRecord)</code></a> or
 <a href="#acknowledge(org.apache.kafka.clients.consumer.ConsumerRecord,org.apache.kafka.clients.consumer.AcknowledgeType)"><code>acknowledge(ConsumerRecord, AcknowledgeType)</code></a>. If the consumer is using implicit acknowledgement,
 all the records returned by the latest call to <a href="#poll(java.time.Duration)"><code>poll(Duration)</code></a> are acknowledged.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#commitAsync()">commitAsync</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other unrecoverable errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#commitAsync()"><code>commitAsync()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAcknowledgementCommitCallback(org.apache.kafka.clients.consumer.AcknowledgementCommitCallback)">
<h3>setAcknowledgementCommitCallback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAcknowledgementCommitCallback</span><wbr><span class="parameters">(<a href="AcknowledgementCommitCallback.html" title="interface in org.apache.kafka.clients.consumer">AcknowledgementCommitCallback</a>&nbsp;callback)</span></div>
<div class="block">Sets the acknowledgement commit callback which can be used to handle acknowledgement completion.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#setAcknowledgementCommitCallback(org.apache.kafka.clients.consumer.AcknowledgementCommitCallback)">setAcknowledgementCommitCallback</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>callback</code> - The acknowledgement commit callback</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setAcknowledgementCommitCallback(org.apache.kafka.clients.consumer.AcknowledgementCommitCallback)"><code>setAcknowledgementCommitCallback(AcknowledgementCommitCallback)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clientInstanceId(java.time.Duration)">
<h3>clientInstanceId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../common/Uuid.html" title="class in org.apache.kafka.common">Uuid</a></span>&nbsp;<span class="element-name">clientInstanceId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</span></div>
<div class="block">Determines the client's unique client instance ID used for telemetry. This ID is unique to
 this specific client instance and will not change after it is initially generated.
 The ID is useful for correlating client operations with telemetry sent to the broker and
 to its eventual monitoring destinations.
 <p>
 If telemetry is enabled, this will first require a connection to the cluster to generate
 the unique client instance ID. This method waits up to <code>timeout</code> for the consumer
 client to complete the request.
 <p>
 Client telemetry is controlled by the <a href="ConsumerConfig.html#ENABLE_METRICS_PUSH_CONFIG"><code>ConsumerConfig.ENABLE_METRICS_PUSH_CONFIG</code></a>
 configuration option.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#clientInstanceId(java.time.Duration)">clientInstanceId</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>timeout</code> - The maximum time to wait for consumer client to determine its client instance ID.
                The value must be non-negative. Specifying a timeout of zero means do not
                wait for the initial request to complete if it hasn't already.</dd>
<dt>Returns:</dt>
<dd>The client's assigned instance id used for metrics collection.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the <code>timeout</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if telemetry is not enabled</dd>
<dd><code><a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors">WakeupException</a></code> - if <a href="#wakeup()"><code>wakeup()</code></a> is called before or while this method is called</dd>
<dd><code><a href="../../common/errors/InterruptException.html" title="class in org.apache.kafka.common.errors">InterruptException</a></code> - if the thread is interrupted while blocked</dd>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - if an unexpected error occurs while trying to determine the client
                        instance ID, though this error does not necessarily imply the
                        consumer client is otherwise unusable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="metrics()">
<h3>metrics</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../common/MetricName.html" title="class in org.apache.kafka.common">MetricName</a>,<wbr>? extends <a href="../../common/Metric.html" title="interface in org.apache.kafka.common">Metric</a>&gt;</span>&nbsp;<span class="element-name">metrics</span>()</div>
<div class="block">Get the metrics kept by the consumer</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#metrics()">metrics</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#metrics()"><code>metrics()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Close the consumer, waiting for up to the default timeout of 30 seconds for any needed cleanup.
 This will commit acknowledgements if possible within the default timeout.
 See <a href="#close(java.time.Duration)"><code>close(Duration)</code></a> for details. Note that <a href="#wakeup()"><code>wakeup()</code></a> cannot be used to interrupt close.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html#close()" title="class or interface in java.io" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors">WakeupException</a></code> - if <a href="#wakeup()"><code>wakeup()</code></a> is called before or while this method is called</dd>
<dd><code><a href="../../common/errors/InterruptException.html" title="class in org.apache.kafka.common.errors">InterruptException</a></code> - if the thread is interrupted before or while this method is called</dd>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other error during close</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#close()"><code>close()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close(java.time.Duration)">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;timeout)</span></div>
<div class="block">Tries to close the consumer cleanly within the specified timeout. This method waits up to
 <code>timeout</code> for the consumer to complete acknowledgements and leave the group.
 If the consumer is unable to complete acknowledgements and gracefully leave the group
 before the timeout expires, the consumer is force closed. Note that <a href="#wakeup()"><code>wakeup()</code></a> cannot be
 used to interrupt close.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#close(java.time.Duration)">close</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>timeout</code> - The maximum time to wait for consumer to close gracefully. The value must be
                non-negative. Specifying a timeout of zero means do not wait for pending requests to complete.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the <code>timeout</code> is negative</dd>
<dd><code><a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors">WakeupException</a></code> - if <a href="#wakeup()"><code>wakeup()</code></a> is called before or while this method is called</dd>
<dd><code><a href="../../common/errors/InterruptException.html" title="class in org.apache.kafka.common.errors">InterruptException</a></code> - if the thread is interrupted before or while this method is called</dd>
<dd><code><a href="../../common/KafkaException.html" title="class in org.apache.kafka.common">KafkaException</a></code> - for any other error during close</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#close(java.time.Duration)"><code>close(Duration)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="wakeup()">
<h3>wakeup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">wakeup</span>()</div>
<div class="block">Wake up the consumer. This method is thread-safe and is useful in particular to abort a long poll.
 The thread which is blocking in an operation will throw <a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors"><code>WakeupException</code></a>.
 If no thread is blocking in a method which can throw <a href="../../common/errors/WakeupException.html" title="class in org.apache.kafka.common.errors"><code>WakeupException</code></a>,
 the next call to such a method will raise it instead.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ShareConsumer.html#wakeup()">wakeup</a></code>&nbsp;in interface&nbsp;<code><a href="ShareConsumer.html" title="interface in org.apache.kafka.clients.consumer">ShareConsumer</a>&lt;<a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">K</a>,<wbr><a href="KafkaShareConsumer.html" title="type parameter in KafkaShareConsumer">V</a>&gt;</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#wakeup()"><code>wakeup()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
